[
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n最大面积的楼层在哪一层？有多少平？\n\n###回答:",
        "output": "SELECT floor_number,area FROM tb_floor WHERE area IN (SELECT MAX(area) FROM tb_floor)",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n回路名包含“智能”的数量有多少\n\n###回答:",
        "output": "SELECT COUNT(*) FROM tb_loop WHERE name LIKE \"%智能%\"",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n上周每日同比能耗的变化率是多少？\n\n###回答:",
        "output": "SELECT V1.day,CONCAT(ROUND((V1.total-V2.total)/V2.total*100,2),\"%\") diff FROM (SELECT stats_time day,SUM(kwh) total FROM stats_day_meter WHERE stats_time>=DATE_SUB(CURDATE(), INTERVAL WEEKDAY(CURDATE()) + 7 DAY) AND stats_time<=DATE_SUB(CURDATE(), INTERVAL WEEKDAY(CURDATE()) + 1 DAY) GROUP BY stats_time) V1 JOIN (SELECT stats_time day,SUM(kwh) total FROM stats_day_meter WHERE stats_time>=DATE_SUB(DATE_SUB(CURDATE(), INTERVAL WEEKDAY(CURDATE()) + 7 DAY),INTERVAL 1 YEAR) AND stats_time<=DATE_SUB(DATE_SUB(CURDATE(), INTERVAL WEEKDAY(CURDATE()) + 1 DAY),INTERVAL 1 YEAR) GROUP BY stats_time) V2 ON V1.day=DATE_ADD(V2.day,INTERVAL 1 YEAR)",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n查询电流规格为4P 400A的所有回路的名称及其对应等级？\n\n###回答:",
        "output": "SELECT name, level FROM tb_loop WHERE current_specification='4P 400A'",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n今天能耗小于10的设备名有哪些？\n\n###回答:",
        "output": "SELECT T2.name FROM stats_day_meter AS T1 JOIN tb_terminal AS T2 ON T1.terminal_id=T2.id WHERE T1.stats_time=CURDATE() AND T1.kwh<10",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n查看配电柜“1AP3”上个季度的能耗。\n\n###回答:",
        "output": "SELECT SUM(T1.kwh) AS total FROM stats_month_meter AS T1 JOIN tb_cabinet AS T2 ON T1.cabinet_id = T2.id WHERE T2.number = '1AP3' AND ((QUARTER(CURDATE()) = 1 AND T1.year = YEAR(CURDATE()) - 1 AND T1.month IN (10, 11, 12)) OR (QUARTER(CURDATE()) = 2 AND T1.year = YEAR(CURDATE()) AND T1.month IN (1, 2, 3)) OR (QUARTER(CURDATE()) = 3 AND T1.year = YEAR(CURDATE()) AND T1.month IN (4, 5, 6)) OR (QUARTER(CURDATE()) = 4 AND T1.year = YEAR(CURDATE()) AND T1.month IN (7, 8, 9)))",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n告诉我2024.04.01至2024.04.18每天的总能耗\n\n###回答:",
        "output": "SELECT stats_time,SUM(kwh) FROM stats_day_meter WHERE stats_time>='2024-04-01' AND stats_time<='2024-04-18' GROUP BY stats_time",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n计算一楼的设备数量。\n\n###回答:",
        "output": "SELECT COUNT(*)  FROM tb_terminal T1 JOIN tb_loop T2 ON T1.loop_id=T2.id JOIN tb_cabinet T3 ON T2.cabinet_id=T3.id JOIN tb_floor T4 ON T3.floor_id=T4.id WHERE T4.floor_number=\"F1\"",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n请帮我计算并告知“应急灯智能空开”昨天能耗的具体数值\n\n###回答:",
        "output": "SELECT SUM(T1.kwh) FROM stats_day_meter T1 JOIN tb_terminal T2 ON T1.terminal_id=T2.id WHERE T2.name='应急灯智能空开' AND T1.stats_time=DATE_SUB(CURDATE(), INTERVAL 1 DAY)",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n去年上半年每月总能耗是多少？\n\n###回答:",
        "output": "SELECT month,SUM(kwh) FROM stats_month_meter WHERE year=YEAR(CURDATE())-1 AND month<=6 GROUP BY month",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n上个月总能耗的环比变化率是多少？\n\n###回答:",
        "output": "SELECT CONCAT(ROUND((V1.total-V2.total)/V2.total*100,2),'%') diff FROM (SELECT SUM(kwh) total FROM stats_month_meter WHERE year=YEAR(DATE_SUB(CURDATE(),INTERVAL 1 MONTH)) AND month=MONTH(DATE_SUB(CURDATE(),INTERVAL 1 MONTH))) V1 ,(SELECT SUM(kwh) total FROM stats_month_meter WHERE year=YEAR(DATE_SUB(CURDATE(),INTERVAL 1 MONTH)) AND month=MONTH(DATE_SUB(CURDATE(),INTERVAL 2 MONTH))) V2",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n一共有多少个配电柜？\n\n###回答:",
        "output": "SELECT COUNT(DISTINCT id) FROM tb_cabinet",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n查看本周空调能耗。\n\n###回答:",
        "output": "SELECT SUM(kwh) FROM stats_day_meter WHERE terminal_type='空调' AND create_time >= DATE_FORMAT(NOW() - INTERVAL WEEKDAY(NOW()) DAY, '%Y-%m-%d') AND create_time <= DATE_FORMAT(NOW() + INTERVAL (6 - WEEKDAY(NOW())) DAY, '%Y-%m-%d')",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n告诉我今天“应急照明”设备名的总能耗是多少？\n\n###回答:",
        "output": "SELECT SUM(T1.kwh) FROM stats_day_meter T1 JOIN tb_terminal T2 ON T1.terminal_id=T2.id WHERE stats_time=CURDATE() AND T2.name=\"应急照明\"",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n请提供本周空调设备每天的能耗数据\n\n###回答:",
        "output": "SELECT stats_time, SUM(kwh) AS total_energy FROM stats_day_meter WHERE terminal_type='空调' AND stats_time BETWEEN DATE_SUB(CURDATE(), INTERVAL WEEKDAY(CURDATE()) DAY) AND DATE_ADD(CURDATE(), INTERVAL (6 - WEEKDAY(CURDATE())) DAY) GROUP BY stats_time",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n计算除空调、插座和照明,其他设备在22年下半年的每月总能耗。\n\n###回答:",
        "output": "SELECT month,SUM(kwh) FROM stats_month_meter WHERE year=2022 AND month<=12 AND month>=7 AND terminal_type NOT IN ('空调','插座','照明') GROUP BY month",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n查看最近半年三条进线,每条进线能耗的同比增幅。\n\n###回答:",
        "output": "SELECT V1.name,CONCAT(ROUND((V1.total-V2.total)/V2.total*100,2),\"%\") diff FROM (SELECT T5.name name,SUM(T1.kwh) total FROM stats_month_meter T1 JOIN tb_floor T2 ON T1.floor_id=T2.id JOIN tb_building T3 ON T2.building_id=T3.id JOIN tb_terminal T4 ON T1.terminal_id=T4.id JOIN tb_loop T5 ON T4.loop_id=T5.id WHERE T3.number=\"一号楼\" AND (T1.year=YEAR(DATE_SUB(CURDATE(),INTERVAL 6 MONTH)) AND T1.month>Month(DATE_SUB(CURDATE(),INTERVAL 6 MONTH)) OR (T1.year=YEAR(CURDATE()) AND T1.month<=Month(CURDATE())))  AND T5.name IN (\"2AP1总开关\",\"AL总开关\",\"一楼市电3进线\") GROUP BY T5.name) V1 JOIN (SELECT  T5.name name,SUM(T1.kwh) total FROM stats_month_meter T1 JOIN tb_floor T2 ON T1.floor_id=T2.id JOIN tb_building T3 ON T2.building_id=T3.id JOIN tb_terminal T4 ON T1.terminal_id=T4.id JOIN tb_loop T5 ON T4.loop_id=T5.id WHERE T3.number=\"一号楼\" AND (T1.year=YEAR(DATE_SUB(CURDATE(),INTERVAL 6 MONTH))-1 AND T1.month>Month(DATE_SUB(CURDATE(),INTERVAL 6 MONTH)) OR (T1.year=YEAR(CURDATE())-1 AND T1.month<=Month(CURDATE()))) AND T5.name IN (\"2AP1总开关\",\"AL总开关\",\"一楼市电3进线\") GROUP BY T5.name) V2 ON   V1.name=V2.name",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n列出电流规格为4P的回路名称\n\n###回答:",
        "output": "SELECT name FROM tb_loop WHERE current_specification=\"4P\"",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n1号楼一楼和五楼本月能耗分别是多少？\n\n###回答:",
        "output": "SELECT T2.floor_number,SUM(T1.kwh) total  FROM stats_month_meter T1 JOIN tb_floor T2 ON T1.floor_id=T2.id JOIN tb_building T3 ON T2.building_id=T3.id WHERE T3.number=\"一号楼\" AND (T2.floor_number=\"F1\" OR T2.floor_number=\"F5\") AND T1.year=YEAR(CURDATE()) AND T1.month=MONTH(CURDATE()) GROUP BY T2.floor_number",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n去年5月到今年3月每月的同比能耗变化量是多少？\n\n###回答:",
        "output": "SELECT cur_year.year, cur_year.month, (COALESCE(cur_year.total, 0) - COALESCE(pre_year.total, 0)) AS total_kwh FROM (SELECT year, month, SUM(kwh) AS total FROM stats_month_meter WHERE (year = YEAR(CURDATE()) - 1 AND month >= 5) OR (year = YEAR(CURDATE()) AND month <= 3) GROUP BY year, month) AS cur_year LEFT JOIN (SELECT year, month, SUM(kwh) AS total FROM stats_month_meter WHERE (year = YEAR(CURDATE()) - 2 AND month >= 5) OR (year = YEAR(CURDATE()) - 1 AND month <= 3) GROUP BY year, month) AS pre_year ON cur_year.month = pre_year.month AND cur_year.year = pre_year.year + 1",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n统计一号楼最高楼层的通讯机数量。\n\n###回答:",
        "output": "SELECT COUNT(*) FROM tb_smart_manager_device AS T1 INNER JOIN tb_floor AS T2 ON T1.floor_id = T2.id INNER JOIN tb_building AS T3 ON T2.building_id = T3.id WHERE T3.number = '一号楼' AND T2.floor_number = (SELECT MAX(floor_number) FROM tb_floor WHERE building_id = T3.id) LIMIT 1",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n上个月耗电最厉害的设备名和设备ID是什么？\n\n###回答:",
        "output": "SELECT T2.name,T2.identification FROM stats_month_meter T1 JOIN tb_terminal T2 ON T1.terminal_id=T2.id WHERE T1.kwh=(SELECT MAX(kwh) FROM stats_month_meter WHERE year=YEAR(DATE_SUB(CURDATE(),INTERVAL 1 MONTH)) AND month=MONTH(DATE_SUB(CURDATE(),INTERVAL 1 MONTH))) AND T1.year=YEAR(DATE_SUB(CURDATE(),INTERVAL 1 MONTH)) AND T1.month=MONTH(DATE_SUB(CURDATE(),INTERVAL 1 MONTH))",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n查看园区一号楼最近30天的用电趋势\n\n###回答:",
        "output": "SELECT T1.stats_time day,SUM(kwh) total FROM stats_day_meter T1 JOIN tb_floor T2 ON T1.floor_id=T2.id JOIN tb_building T3 ON T2.building_id=T3.id WHERE T3.number='一号楼' AND T1.stats_time>=DATE_SUB(CURDATE(),INTERVAL 30 DAY) AND T1.stats_time<CURDATE() GROUP BY T1.stats_time",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n计算各楼宇的楼层数量\n\n###回答:",
        "output": "SELECT T2.number,COUNT(*) FROM tb_floor T1 JOIN tb_building T2 ON T1.building_id=T2.id GROUP BY T2.number",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n每台通讯机连接的的设备中,最新上报的设备名是什么？上报时间是什么？\n\n###回答:",
        "output": "SELECT T2.name AS smart_manager_device_name, T1.name AS terminal_name, T1.report_time_update FROM tb_terminal AS T1 JOIN tb_smart_manager_device AS T2 ON T1.smart_manager_device_id = T2.id WHERE T1.report_time_update = (SELECT MAX(report_time_update) FROM tb_terminal WHERE smart_manager_device_id = T2.id) GROUP BY T1.smart_manager_device_id, T1.name, T1.report_time_update",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n统计只有一座园区的城市\n\n###回答:",
        "output": "SELECT city FROM tb_park GROUP BY city HAVING COUNT(DISTINCT id)=1",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n计算一号楼最近５个月的总能耗。\n\n###回答:",
        "output": "SELECT SUM(T1.kwh) FROM stats_month_meter T1 JOIN tb_floor T2 ON T1.floor_id = T2.id JOIN tb_building T3 ON T2.building_id = T3.id WHERE T3.number = '一号楼' AND CONCAT(T1.year, LPAD(T1.month, 2, '0')) >= DATE_FORMAT(DATE_SUB(CURDATE(), INTERVAL 5 MONTH), '%Y%m') AND CONCAT(T1.year, LPAD(T1.month, 2, '0')) < DATE_FORMAT(CURDATE(), '%Y%m')",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n１号楼最大面积的楼层中，本月照明设备的平均能耗是多少？\n\n###回答:",
        "output": "SELECT AVG(T1.kwh) average  FROM stats_month_meter T1 JOIN tb_floor T2 ON T1.floor_id=T2.id JOIN tb_building T3 ON T2.building_id=T3.id  WHERE  T3.number=\"一号楼\" AND T1.terminal_type=\"照明\" AND T1.year=YEAR(CURDATE()) AND T1.month=MONTH(CURDATE())  AND T2.area=(SELECT MAX(V1.area) FROM tb_floor V1 JOIN tb_building V2 ON V1.building_id=V2.id WHERE V2.number=\"一号楼\")",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n１号楼最近100天的总能耗是多少？\n\n###回答:",
        "output": "SELECT SUM(T1.kwh) FROM stats_day_meter AS T1 JOIN tb_floor AS T2 ON T1.floor_id = T2.id JOIN tb_building AS T3 ON T2.building_id = T3.id WHERE T3.number = '一号楼' AND T1.stats_time >= DATE_SUB(CURDATE(), INTERVAL 100 DAY) AND T1.stats_time<CURDATE()",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n本月每天耗能多少？\n\n###回答:",
        "output": "SELECT stats_time, SUM(kwh) FROM stats_day_meter WHERE stats_time >= DATE_SUB(CURDATE(), INTERVAL DAYOFMONTH(CURDATE()) - 1 DAY) GROUP BY stats_time",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n显示负载超过100的回路和该回路上的设备型号。\n\n###回答:",
        "output": "SELECT DISTINCT  CAST(T2.load ->> '$[0]' AS DECIMAL) AS total_load,T1.model FROM tb_terminal AS T1 JOIN tb_loop AS T2 ON T1.loop_id = T2.id WHERE CAST(T2.load ->> '$[0]' AS DECIMAL) > 100",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n计算除空调、插座和照明,其他设备在上周的总能耗。\n\n###回答:",
        "output": "SELECT SUM(kwh) FROM stats_day_meter WHERE terminal_type NOT IN ('空调', '插座', '照明') AND stats_time BETWEEN DATE_SUB(CURDATE(), INTERVAL WEEKDAY(CURDATE()) + 7 DAY) AND DATE_SUB(CURDATE(), INTERVAL WEEKDAY(CURDATE()) + 1 DAY)",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n在线的设备有多少种型号？\n\n###回答:",
        "output": "SELECT COUNT(DISTINCT model) FROM tb_terminal WHERE status=1",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n计算上个季度一号楼一楼空调的总能耗\n\n###回答:",
        "output": "SELECT SUM(T1.kwh) FROM stats_month_meter T1 JOIN tb_floor T2 ON T1.floor_id = T2.id JOIN tb_building T3 ON T2.building_id = T3.id WHERE T3.number = '一号楼' AND T2.floor_number = 'F1' AND T1.terminal_type = '空调' AND ((QUARTER(CURDATE()) = 1 AND T1.year = YEAR(CURDATE()) - 1 AND T1.month IN (10, 11, 12)) OR (QUARTER(CURDATE()) = 2 AND T1.year = YEAR(CURDATE()) AND T1.month IN (1, 2, 3)) OR (QUARTER(CURDATE()) = 3 AND T1.year = YEAR(CURDATE()) AND T1.month IN (4, 5, 6)) OR (QUARTER(CURDATE()) = 4 AND T1.year = YEAR(CURDATE()) AND T1.month IN (7, 8, 9)))",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n计算１号楼最高楼层本周的每日能耗。\n\n###回答:",
        "output": "SELECT T1.stats_time, SUM(T1.kwh) FROM stats_day_meter AS T1 JOIN tb_floor AS T2 ON T1.floor_id = T2.id JOIN tb_building AS T3 ON T2.building_id = T3.id JOIN (SELECT id FROM tb_floor WHERE floor_number = (SELECT MAX(floor_number) FROM tb_floor JOIN tb_building ON tb_floor.building_id = tb_building.id WHERE tb_building.number = '一号楼')) AS T4 ON T4.id = T2.id WHERE T3.number = '一号楼' AND T1.stats_time >= DATE_FORMAT(NOW() - INTERVAL WEEKDAY(NOW()) DAY, '%Y-%m-%d') AND T1.stats_time <= DATE_FORMAT(NOW() + INTERVAL (6 - WEEKDAY(NOW())) DAY, '%Y-%m-%d') GROUP BY T1.stats_time",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n一号楼最高楼层最近一周每种设备类型的总能耗是多少？\n\n###回答:",
        "output": "SELECT T1.terminal_type, SUM(T1.kwh) FROM stats_day_meter T1 JOIN tb_floor T2 ON T1.floor_id = T2.id JOIN tb_building T3 ON T2.building_id = T3.id WHERE T3.number='一号楼' AND T1.stats_time >= DATE_SUB(CURDATE(), INTERVAL 7 DAY) AND T2.floor_number = (SELECT MAX(V1.floor_number) FROM tb_floor V1 JOIN tb_building V2 ON V1.building_id = V2.id WHERE V2.number='一号楼') GROUP BY T1.terminal_type",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n空调类型的设备总共消耗了多少能耗？\n\n###回答:",
        "output": "SELECT SUM(kwh) FROM stats_month_meter WHERE terminal_type='空调'",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n查看去年上半年每月的能耗。\n\n###回答:",
        "output": "SELECT month,SUM(kwh) FROM stats_month_meter WHERE year=YEAR(CURDATE())-1 AND month<=6 GROUP BY month",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n显示一楼市电3进线从2023年6月到今年3月每个月的能耗同比增长量。\n\n###回答:",
        "output": "SELECT V1.year, V1.month, (COALESCE(V1.total, 0) - COALESCE(V2.total, 0)) AS diff FROM (SELECT T1.year, T1.month, SUM(T1.kwh) AS total FROM stats_month_meter T1 JOIN tb_terminal T2 ON T1.terminal_id = T2.id JOIN tb_loop T3 ON T2.loop_id = T3.id WHERE T3.name = '一楼市电3进线' AND ((T1.year = YEAR(CURDATE()) AND T1.month <= 3) OR (T1.year = YEAR(CURDATE()) - 1 AND T1.month >= 6) OR (T1.year < YEAR(CURDATE()) AND T1.year > YEAR(CURDATE()) - 1)) GROUP BY T1.year, T1.month) V1 LEFT JOIN (SELECT T1.year, T1.month, SUM(T1.kwh) AS total FROM stats_month_meter T1 JOIN tb_terminal T2 ON T1.terminal_id = T2.id JOIN tb_loop T3 ON T2.loop_id = T3.id WHERE T3.name = '一楼市电3进线' AND T1.year = YEAR(CURDATE()) - 1 GROUP BY T1.year, T1.month) V2 ON V1.year = V2.year + 1 AND V1.month = V2.month",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n去年上半年总能耗是多少？\n\n###回答:",
        "output": "SELECT SUM(kwh) FROM stats_month_meter WHERE year=YEAR(DATE_SUB(CURDATE(),INTERVAL 1 YEAR)) AND month<=6",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n给我园区“铜山有线”的经纬度信息\n\n###回答:",
        "output": "SELECT longitude, latitude FROM tb_park WHERE name='铜山有线'",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n请提供本周内每一天的能耗数据。\n\n###回答:",
        "output": "SELECT stats_time, SUM(kwh) FROM stats_day_meter WHERE stats_time >= DATE(NOW() - INTERVAL WEEKDAY(NOW()) DAY) AND stats_time <= DATE(NOW() + INTERVAL (6 - WEEKDAY(NOW())) DAY) GROUP BY stats_time",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n“一号楼”的占地面积是多少？\n\n###回答:",
        "output": "SELECT area FROM tb_building WHERE number='一号楼'",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n今年以来，功率超过200的记录有哪些？\n\n###回答:",
        "output": "SELECT * FROM tb_month_eus WHERE total_power > 200 AND year=YEAR(CURDATE())",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n本月配电柜“4AP2”总能耗是多少？\n\n###回答:",
        "output": "SELECT SUM(T1.kwh) total FROM stats_month_meter AS T1 JOIN tb_cabinet AS T2 ON T1.cabinet_id=T2.id WHERE T2.number=\"4AP2\" AND  T1.month=MONTH(CURDATE()) AND T1.year=YEAR(CURDATE())",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n上周空调设备最大能耗是周几,能耗量是多少？\n\n###回答:",
        "output": "SELECT DAYNAME(stats_time) AS day_of_week, SUM(kwh) AS total_consumption FROM stats_day_meter WHERE terminal_type='空调' AND stats_time BETWEEN DATE_SUB(CURDATE(), INTERVAL (WEEKDAY(CURDATE()) + 7) DAY) AND DATE_SUB(CURDATE(), INTERVAL WEEKDAY(CURDATE()) DAY) GROUP BY stats_time ORDER BY total_consumption DESC LIMIT 1",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n分别计算空调昨天总能耗及今天总能耗是多少，及它们的差异是多少\n\n###回答:",
        "output": "SELECT today - yesterday AS difference, today AS today, yesterday AS yesterday FROM (SELECT SUM(kwh) AS today FROM stats_day_meter WHERE terminal_type = '空调' AND stats_time = DATE_SUB(CURDATE(), INTERVAL 1 DAY)) AS T1, (SELECT SUM(kwh) AS yesterday FROM stats_day_meter WHERE terminal_type = '空调' AND stats_time = DATE_SUB(CURDATE(), INTERVAL 2 DAY)) AS T2",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n设备“一层总开”所属哪个通信机？\n\n###回答:",
        "output": "SELECT T2.name FROM tb_terminal T1 JOIN tb_smart_manager_device T2 ON T1.smart_manager_device_id = T2.id WHERE T1.name = '一层总开'",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n查找回路名为“智能空开”的负载。\n\n###回答:",
        "output": "SELECT `load` FROM tb_loop WHERE name='智能空开'",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n查看今年上半年每月总能耗。\n\n###回答:",
        "output": "SELECT month,SUM(kwh) FROM stats_month_meter WHERE year=YEAR(CURDATE()) AND month<=6 GROUP BY month",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n告诉我昨天总耗电前三的配电柜名称和分别的总能耗。\n\n###回答:",
        "output": "SELECT T2.number,SUM(T1.kwh) AS TOTAL FROM stats_day_meter AS T1 JOIN tb_cabinet AS T2 ON T1.cabinet_id=T2.id WHERE stats_time=DATE_SUB(CURDATE(), INTERVAL 1 DAY)   GROUP BY T1.cabinet_id ORDER BY TOTAL DESC LIMIT 3",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n显示公司每种通讯设备的名称和数量。\n\n###回答:",
        "output": "SELECT name,COUNT(DISTINCT identification) FROM tb_smart_manager_device GROUP BY name",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n最近安装的通讯机的所在楼层是什么？\n\n###回答:",
        "output": "SELECT T2.floor_number FROM tb_smart_manager_device AS T1 JOIN tb_floor AS T2 ON T1.floor_id=T2.id  ORDER BY T1.install_time DESC LIMIT 1",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n上周配电柜“1AP3”总能耗是多少？\n\n###回答:",
        "output": "SELECT SUM(kwh) FROM stats_day_meter AS T1 JOIN tb_cabinet AS T2 ON T1.cabinet_id = T2.id WHERE T2.number = '1AP3' AND T1.stats_time BETWEEN DATE_SUB(CURDATE(), INTERVAL (WEEKDAY(CURDATE())+7) DAY) AND DATE_SUB(CURDATE(), INTERVAL (WEEKDAY(CURDATE())+1) DAY)",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n一号楼一楼有几台通讯机？\n\n###回答:",
        "output": "SELECT COUNT(*) FROM tb_smart_manager_device AS T1 JOIN tb_floor AS T2 ON T1.floor_id=T2.id  JOIN tb_building AS T3 ON T2.building_id=T3.id WHERE T3.number=\"一号楼\" AND T2.floor_number=\"F1\"",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n计算配电柜“3AP1”最近一周的总能耗。\n\n###回答:",
        "output": "SELECT SUM(kwh) FROM stats_day_meter AS T1 JOIN tb_cabinet AS T2 ON T1.cabinet_id = T2.id WHERE T2.number = '3AP1' AND T1.stats_time > DATE_SUB(CURDATE(), INTERVAL 7 DAY) AND T1.stats_time <= CURDATE()",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n找一下在“北京路”上有哪些园区\n\n###回答:",
        "output": "SELECT name FROM tb_park WHERE address LIKE \"%北京路%\"",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n告诉我昨天最耗电的设备类型。\n\n###回答:",
        "output": "SELECT terminal_type, SUM(kwh) AS total_kwh FROM stats_day_meter WHERE stats_time = DATE_SUB(CURDATE(), INTERVAL 1 DAY) GROUP BY terminal_type HAVING total_kwh = (SELECT MAX(total_kwh) FROM (SELECT SUM(kwh) AS total_kwh FROM stats_day_meter WHERE stats_time = DATE_SUB(CURDATE(), INTERVAL 1 DAY) GROUP BY terminal_type) sub)",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n昨天耗电最厉害的设备名是什么？\n\n###回答:",
        "output": "SELECT T2.name FROM stats_day_meter T1 JOIN tb_terminal T2 ON T1.terminal_id=T2.id WHERE T1.stats_time=DATE_SUB(CURDATE(), INTERVAL 1 DAY) AND T1.kwh=(SELECT MAX(kwh) FROM stats_day_meter WHERE stats_time=DATE_SUB(CURDATE(), INTERVAL 1 DAY))",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n最近一周插座的每日能耗是多少？\n\n###回答:",
        "output": "SELECT stats_time,SUM(kwh) FROM stats_day_meter WHERE terminal_type='插座' AND stats_time>=DATE_SUB(CURDATE(),INTERVAL 7 DAY) AND stats_time<CURDATE() GROUP BY stats_time",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n一号楼各楼层有多少个通信机\n\n###回答:",
        "output": "SELECT T1.floor_number,COUNT(*)  FROM tb_floor T1 JOIN tb_smart_manager_device T2 ON T1.id=T2.floor_id JOIN tb_building T3 ON T1.building_id=T3.id WHERE T3.number=\"一号楼\" GROUP BY T1.floor_number",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n面积最大的楼层和所在楼宇是什么？\n\n###回答:",
        "output": "SELECT T1.floor_number,T2.number FROM tb_floor T1 JOIN tb_building T2 ON T1.building_id=T2.id WHERE T1.area=(SELECT MAX(AREA) FROM tb_floor)",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n型号为“DDSY1352-NK”的设备名称是什么？\n\n###回答:",
        "output": "SELECT name FROM tb_terminal WHERE model='DDSY1352-NK'",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n查看从2023年2月到下一年4月每月的能耗环比增长量。\n\n###回答:",
        "output": "SELECT V1.year, V1.month, (V1.total - V2.total) AS diff FROM (SELECT year, month, SUM(kwh) AS total FROM stats_month_meter WHERE (year = 2023 AND month >= 2) OR (year = 2024 AND month <= 4) GROUP BY year, month) V1 LEFT JOIN (SELECT year, month, SUM(kwh) AS total FROM stats_month_meter WHERE (year = 2023 AND month >= 1) OR (year = 2024 AND month <= 3) GROUP BY year, month) V2 ON (V1.year = V2.year AND V1.month = V2.month + 1) OR (V1.month = 1 AND V2.month = 12 AND V1.year = V2.year + 1)",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n求一号楼最高楼层中本月照明设备的平均能耗。\n\n###回答:",
        "output": "SELECT AVG(sm.kwh) FROM stats_month_meter sm JOIN tb_floor f ON sm.floor_id = f.id JOIN tb_building b ON f.building_id = b.id WHERE b.number = '一号楼' AND sm.terminal_type = '照明' AND sm.year = YEAR(CURDATE()) AND sm.month = MONTH(CURDATE()) AND f.floor_number = (SELECT MAX(f2.floor_number) FROM tb_floor f2 JOIN tb_building b2 ON f2.building_id = b2.id WHERE b2.number = '一号楼')",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n一号楼上个月总能耗是多少？\n\n###回答:",
        "output": "SELECT SUM(T1.kwh) FROM stats_month_meter AS T1 JOIN tb_floor AS T2 ON T1.floor_id=T2.id JOIN tb_building AS T3 ON T2.building_id=T3.id WHERE T3.number=\"一号楼\" AND T1.year=YEAR(DATE_SUB(CURDATE(),INTERVAL 1 MONTH)) AND T1.month=MONTH(DATE_SUB(CURDATE(),INTERVAL 1 MONTH))",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n显示一楼市电3进线上个月能耗的同比增长量。\n\n###回答:",
        "output": "SELECT (coalesce( V1.total,0)-coalesce( V2.total,0)) diff FROM (SELECT SUM(T1.kwh) total  FROM stats_month_meter T1 JOIN tb_terminal T2 ON T1.terminal_id=T2.id JOIN tb_loop T3 ON T2.loop_id=T3.id WHERE T3.name IN (\"一楼市电3进线\") AND T1.year=YEAR(DATE_SUB(CURDATE(),INTERVAL 1 MONTH)) AND T1.month=MONTH(DATE_SUB(CURDATE(),INTERVAL 1 MONTH)) ) V1,(SELECT SUM(T1.kwh) total  FROM stats_month_meter T1 JOIN tb_terminal T2 ON T1.terminal_id=T2.id JOIN tb_loop T3 ON T2.loop_id=T3.id WHERE T3.name IN (\"一楼市电3进线\") AND T1.year=YEAR(DATE_SUB(CURDATE(),INTERVAL 1 MONTH))-1 AND T1.month=MONTH(DATE_SUB(CURDATE(),INTERVAL 1 MONTH))) V2",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n历年来能耗最大的月份和所在年份是什么？\n\n###回答:",
        "output": "SELECT DISTINCT year,month  FROM stats_month_meter WHERE kwh=(SELECT MAX(kwh) FROM stats_month_meter)",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n查找园区名为“铜山有线”的地址。\n\n###回答:",
        "output": "SELECT address FROM tb_park WHERE name='铜山有线'",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n计算今年2月设备的平均能耗。\n\n###回答:",
        "output": "SELECT AVG(kwh) FROM stats_month_meter WHERE year=YEAR(CURDATE()) AND month=2",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n计算园区昨天总能耗\n\n###回答:",
        "output": "SELECT SUM(kwh) FROM stats_day_meter WHERE stats_time=DATE_SUB(CURDATE(),INTERVAL 1 DAY)",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n告诉我昨天耗电最低的3台配电柜名称,分别耗电多少？\n\n###回答:",
        "output": "SELECT T2.number,SUM(T1.kwh) AS TOTAL FROM stats_day_meter AS T1 JOIN tb_cabinet AS T2 ON T1.cabinet_id=T2.id WHERE stats_time=DATE_SUB(CURDATE(), INTERVAL 1 DAY)   GROUP BY T1.cabinet_id ORDER BY TOTAL ASC LIMIT 3",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n分别计算一号楼一楼和五楼的本月能耗。\n\n###回答:",
        "output": "SELECT T2.floor_number,SUM(T1.kwh) total  FROM stats_month_meter T1 JOIN tb_floor T2 ON T1.floor_id=T2.id JOIN tb_building T3 ON T2.building_id=T3.id WHERE T3.number=\"一号楼\" AND (T2.floor_number=\"F1\" OR T2.floor_number=\"F5\") AND T1.year=YEAR(CURDATE()) AND T1.month=MONTH(CURDATE()) GROUP BY T2.floor_number",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n2023年第三个月总能耗的环比变化量是多少？\n\n###回答:",
        "output": "SELECT (T1.VALUE - T2.VALUE) AS DIFF FROM (SELECT SUM(kwh) AS VALUE FROM stats_month_meter WHERE year=2023 AND month=3) AS T1, (SELECT SUM(kwh) AS VALUE FROM stats_month_meter WHERE year=2023 AND month=2) AS T2;",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n2023年上半年每个月一号楼三条进线,每条进线总能耗的同比变化量是多少？\n\n###回答:",
        "output": "SELECT V1.name, V1.month, (COALESCE(V1.total, 0) - COALESCE(V2.total, 0)) AS diff FROM (SELECT T5.name, T1.year, T1.month, SUM(T1.kwh) AS total FROM stats_month_meter T1 JOIN tb_floor T2 ON T1.floor_id = T2.id JOIN tb_building T3 ON T2.building_id = T3.id JOIN tb_terminal T4 ON T1.terminal_id = T4.id JOIN tb_loop T5 ON T4.loop_id = T5.id WHERE T3.number = '一号楼' AND T1.year = 2023 AND T1.month BETWEEN 1 AND 6 AND T5.name IN ('2AP1总开关', 'AL总开关', '一楼市电3进线') GROUP BY T5.name, T1.month) V1 LEFT JOIN (SELECT T5.name, T1.year, T1.month, SUM(T1.kwh) AS total FROM stats_month_meter T1 JOIN tb_floor T2 ON T1.floor_id = T2.id JOIN tb_building T3 ON T2.building_id = T3.id JOIN tb_terminal T4 ON T1.terminal_id = T4.id JOIN tb_loop T5 ON T4.loop_id = T5.id WHERE T3.number = '一号楼' AND T1.year = 2022 AND T1.month BETWEEN 1 AND 6 AND T5.name IN ('2AP1总开关', 'AL总开关', '一楼市电3进线') GROUP BY T5.name, T1.month) V2 ON V1.year = V2.year + 1 AND V1.month = V2.month AND V1.name = V2.name",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n今年2月18号设备的平均能耗是多少？\n\n###回答:",
        "output": "SELECT AVG(kwh) FROM stats_day_meter WHERE stats_time = CONCAT(YEAR(CURDATE()), '-02-18')",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n配电柜“4AP2”最近3天能耗趋势\n\n###回答:",
        "output": "SELECT T1.stats_time, SUM(T1.kwh) AS total FROM stats_day_meter AS T1 JOIN tb_cabinet AS T2 ON T1.cabinet_id = T2.id WHERE T2.number = '4AP2' AND T1.stats_time >= DATE_SUB(CURDATE(), INTERVAL 3 DAY) AND T1.stats_time < CURDATE() GROUP BY T1.stats_time",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n查询三条进线每条进线的名称和昨天的设备总能耗。\n\n###回答:",
        "output": "SELECT T2.name,SUM(T1.kwh)  FROM stats_day_meter  AS T1 JOIN tb_terminal AS T2 ON T1.terminal_id=T2.id WHERE T2.name IN (\"2AP1总开关\",\"AL总开关\",\"一楼市电3进线\") AND T1.stats_time=DATE_SUB(CURDATE(),INTERVAL 1 DAY) GROUP BY T2.name",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n去年上半年进线2AP1总开关的每月能耗是多少？\n\n###回答:",
        "output": "SELECT T1.month,SUM(T1.kwh) FROM stats_month_meter T1 JOIN tb_terminal T2 ON T1.terminal_id=T2.id JOIN tb_loop T3 ON T2.loop_id=T3.id WHERE T3.name=\"2AP1总开关\" AND T1.year=YEAR(CURDATE())-1 AND T1.month>=1 AND T1.month<=6 GROUP BY T1.month",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n列出回路等级为2的设备名\n\n###回答:",
        "output": "SELECT T1.name FROM tb_terminal T1 JOIN tb_loop T2 ON T1.loop_id=T2.id WHERE T2.level=2",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n查看园区一号楼三楼各设备类型最近15天的用电趋势\n\n###回答:",
        "output": "SELECT T1.terminal_type,T1.stats_time day,SUM(kwh) total FROM stats_day_meter T1 JOIN tb_floor T2  ON T1.floor_id=T2.id   JOIN tb_building T3 ON T2.building_id=T3.id WHERE  T1.stats_time>DATE_SUB(CURDATE(),INTERVAL 15 DAY) AND T3.number=\"一号楼\" AND T2.floor_number=\"F3\"  GROUP BY T1.terminal_type,T1.stats_time",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n本周配电柜“2AP1”的每日能耗是多少？\n\n###回答:",
        "output": "SELECT T1.stats_time,SUM(kwh) FROM stats_day_meter AS T1 JOIN tb_cabinet AS T2 ON T1.cabinet_id=T2.id WHERE T2.number=\"2AP1\" AND  T1.stats_time>=DATE_FORMAT(NOW() - INTERVAL WEEKDAY(NOW()) DAY, \"%Y-%m-%d\") AND T1.stats_time<=DATE_FORMAT(NOW() + INTERVAL (6 - WEEKDAY(NOW())) DAY, \"%Y-%m-%d\") GROUP BY T1.stats_time",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n上个月总能耗的环比变化量是多少？\n\n###回答:",
        "output": "SELECT (T1.VALUE - T2.VALUE) AS DIFF FROM (SELECT SUM(kwh) AS VALUE FROM stats_month_meter WHERE year = YEAR(CURDATE()) AND month = MONTH(DATE_SUB(CURDATE(), INTERVAL 1 MONTH))) T1, (SELECT SUM(kwh) AS VALUE FROM stats_month_meter WHERE year = YEAR(DATE_SUB(CURDATE(), INTERVAL 1 MONTH)) AND month = MONTH(DATE_SUB(CURDATE(), INTERVAL 2 MONTH))) T2",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n查找一号楼二楼通讯机“智能通讯管理机”的型号。\n\n###回答:",
        "output": "SELECT T1.model FROM tb_smart_manager_device AS T1 JOIN tb_floor AS T2 ON T1.floor_id=T2.id JOIN tb_building AS T3 ON T2.building_id=T3.id  WHERE T2.floor_number=\"F2\" AND T3.number=\"一号楼\" AND T1.name=\"智能通讯管理机\"",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n计算１号楼最高楼层上周每天的能耗。\n\n###回答:",
        "output": "SELECT T1.stats_time, SUM(T1.kwh) FROM stats_day_meter AS T1 JOIN tb_floor AS T2 ON T1.floor_id = T2.id JOIN tb_building AS T3 ON T2.building_id = T3.id JOIN (SELECT floor_number FROM tb_floor WHERE building_id = (SELECT id FROM tb_building WHERE number = '一号楼') ORDER BY sort DESC LIMIT 1) AS T4 ON T2.floor_number = T4.floor_number WHERE T3.number = '一号楼' AND T1.stats_time >= DATE_SUB(CURDATE(), INTERVAL WEEKDAY(CURDATE()) + 7 DAY) AND T1.stats_time <= DATE_SUB(CURDATE(), INTERVAL WEEKDAY(CURDATE()) + 1 DAY) GROUP BY T1.stats_time",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n哪些配电柜的回路数少于10个？请提供清单\n\n###回答:",
        "output": "SELECT T1.number FROM tb_cabinet T1 JOIN tb_loop T2 ON T1.id=T2.cabinet_id GROUP BY T1.number HAVING COUNT(*)<10",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n查询上个季度“小厨室”设备的能耗。\n\n###回答:",
        "output": "SELECT SUM(T1.kwh) FROM stats_month_meter T1 JOIN tb_terminal T2 ON T1.terminal_id = T2.id WHERE T2.name = '小厨室' AND ((QUARTER(CURDATE()) = 1 AND T1.year = YEAR(CURDATE()) - 1 AND T1.month IN (10, 11, 12)) OR (QUARTER(CURDATE()) = 2 AND T1.year = YEAR(CURDATE()) AND T1.month IN (1, 2, 3)) OR (QUARTER(CURDATE()) = 3 AND T1.year = YEAR(CURDATE()) AND T1.month IN (4, 5, 6)) OR (QUARTER(CURDATE()) = 4 AND T1.year = YEAR(CURDATE()) AND T1.month IN (7, 8, 9)))",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n查看楼层数量大于3少于5的楼宇。\n\n###回答:",
        "output": "SELECT number FROM tb_building WHERE floor_count>3 AND floor_count<5",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n上个月进线AL总开关环比总能耗的增幅是多少？\n\n###回答:",
        "output": "SELECT CONCAT(ROUND((V1.total-V2.total)/V2.total*100,2),\"%\") diff FROM (SELECT SUM(T1.kwh) total  FROM stats_month_meter T1 JOIN tb_terminal T2 ON T1.terminal_id=T2.id JOIN tb_loop T3 ON T2.loop_id=T3.id WHERE T3.name IN (\"AL总开关\") AND T1.year=YEAR(DATE_SUB(CURDATE(),INTERVAL 1 MONTH)) AND T1.month=MONTH(DATE_SUB(CURDATE(),INTERVAL 1 MONTH)) ) V1,(SELECT SUM(T1.kwh) total  FROM stats_month_meter T1 JOIN tb_terminal T2 ON T1.terminal_id=T2.id JOIN tb_loop T3 ON T2.loop_id=T3.id WHERE T3.name IN (\"AL总开关\") AND T1.year=YEAR(DATE_SUB(CURDATE(),INTERVAL 2 MONTH)) AND T1.month=MONTH(DATE_SUB(CURDATE(),INTERVAL 2 MONTH))) V2",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n最近一周照明设备的总能耗是多少？\n\n###回答:",
        "output": "SELECT SUM(kwh) FROM stats_day_meter  WHERE terminal_type=\"照明\" AND stats_time>DATE_SUB(CURDATE(),INTERVAL 7 DAY) AND stats_time<=CURDATE()",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n查看这个月一号楼二楼的用电最少的设备名和能耗量。\n\n###回答:",
        "output": "SELECT T2.name, T1.kwh FROM stats_month_meter T1 JOIN tb_terminal T2 ON T1.terminal_id = T2.id JOIN tb_floor T3 ON T1.floor_id = T3.id JOIN tb_building T4 ON T3.building_id = T4.id WHERE T1.year = YEAR(CURDATE()) AND T1.month = MONTH(CURDATE()) AND T4.number = '一号楼' AND T3.floor_number = 'F2' AND T1.kwh = (SELECT MIN(V1.kwh) FROM stats_month_meter V1 JOIN tb_floor V2 ON V1.floor_id = V2.id JOIN tb_building V3 ON V2.building_id = V3.id WHERE V1.year = YEAR(CURDATE()) AND V1.month = MONTH(CURDATE()) AND V3.number = '一号楼' AND V2.floor_number = 'F2')",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n进线2AP1总开关本周每日能耗是多少？\n\n###回答:",
        "output": "SELECT T1.stats_time, SUM(T1.kwh) FROM stats_day_meter AS T1 JOIN tb_terminal AS T2 ON T1.terminal_id = T2.id JOIN tb_loop AS T3 ON T2.loop_id = T3.id WHERE T3.name = '2AP1总开关' AND T1.stats_time >= DATE_FORMAT(NOW() - INTERVAL WEEKDAY(NOW()) DAY, '%Y-%m-%d') AND T1.stats_time <= DATE_FORMAT(NOW() + INTERVAL (6 - WEEKDAY(NOW())) DAY, '%Y-%m-%d') GROUP BY T1.stats_time",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n显示通讯机的名称和安装时间。\n\n###回答:",
        "output": "SELECT name,install_time FROM tb_smart_manager_device",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n昨天最节能的设备在那层楼\n\n###回答:",
        "output": "SELECT DISTINCT T2.floor_number FROM stats_day_meter T1 JOIN tb_floor T2 ON T1.floor_id = T2.id WHERE T1.stats_time = DATE_SUB(CURDATE(), INTERVAL 1 DAY) AND T1.kwh = (SELECT MIN(kwh) FROM stats_day_meter WHERE stats_time = DATE_SUB(CURDATE(), INTERVAL 1 DAY))",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n一号楼最低层的本月平均能耗是多少？\n\n###回答:",
        "output": "SELECT AVG(T1.kwh) AS average FROM stats_month_meter T1 JOIN tb_floor T2 ON T1.floor_id = T2.id JOIN tb_building T3 ON T2.building_id = T3.id WHERE T3.number = '一号楼' AND T1.year = YEAR(CURDATE()) AND T1.month = MONTH(CURDATE()) AND T2.floor_number = (SELECT MIN(V1.floor_number) FROM tb_floor V1 JOIN tb_building V2 ON V1.building_id = V2.id WHERE V2.number = '一号楼')",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n请提供最近一周内插座每天的能耗数据。\n\n###回答:",
        "output": "SELECT stats_time,SUM(kwh) FROM stats_day_meter  WHERE terminal_type='插座' AND stats_time>=DATE_SUB(CURDATE(),INTERVAL 7 DAY) AND stats_time<CURDATE() GROUP BY stats_time",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n去年5月至10月的每月能耗是多少？\n\n###回答:",
        "output": "SELECT month,SUM(kwh)  FROM stats_month_meter WHERE year=YEAR(CURDATE())-1 AND month>=5 AND month<=10 GROUP BY month",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n一号楼一楼面积有多少？\n\n###回答:",
        "output": "SELECT T1.area FROM tb_floor AS T1 JOIN tb_building AS T2 ON T1.building_id = T2.id WHERE T2.number = \"一号楼\" AND T1.floor_number=\"F1\"",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n查找上个月耗电最多的设备的所在楼层。\n\n###回答:",
        "output": "SELECT DISTINCT T2.floor_number FROM stats_month_meter T1 JOIN tb_floor T2 ON T1.floor_id=T2.id WHERE T1.year=YEAR(DATE_SUB(CURDATE(),INTERVAL 1 MONTH)) AND T1.month=MONTH(DATE_SUB(CURDATE(),INTERVAL 1 MONTH)) AND T1.kwh=(SELECT MAX(kwh) FROM stats_month_meter WHERE year=YEAR(DATE_SUB(CURDATE(),INTERVAL 1 MONTH)) AND month=MONTH(DATE_SUB(CURDATE(),INTERVAL 1 MONTH)))",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n昨天最耗电的设备类型是什么？\n\n###回答:",
        "output": "SELECT terminal_type  FROM stats_day_meter WHERE stats_time=DATE_SUB(CURDATE(),INTERVAL 1 DAY) GROUP BY terminal_type ORDER BY SUM(kwh) DESC LIMIT 1",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n查看一号楼五楼上个月的能耗。\n\n###回答:",
        "output": "SELECT SUM(T1.kwh)  FROM stats_month_meter T1 JOIN tb_floor T2 ON T1.floor_id=T2.id JOIN tb_building T3 ON T2.building_id=T3.id WHERE T3.number=\"一号楼\" AND T2.floor_number=\"F5\" AND T1.year=YEAR(DATE_SUB(CURDATE(),INTERVAL 1 MONTH)) AND T1.month=(MONTH(DATE_SUB(CURDATE(),INTERVAL 1 MONTH)))",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n三条总进线的名称和本周能耗是多少？\n\n###回答:",
        "output": "SELECT T3.name, SUM(T1.kwh) AS total FROM stats_day_meter AS T1 JOIN tb_terminal AS T2 ON T1.terminal_id=T2.id JOIN tb_loop AS T3 ON T2.loop_id=T3.id WHERE T3.name IN ('2AP1总开关', 'AL总开关', '一楼市电3进线') AND T1.stats_time BETWEEN DATE_SUB(CURRENT_DATE, INTERVAL WEEKDAY(CURRENT_DATE) DAY) AND DATE_ADD(CURRENT_DATE, INTERVAL (6 - WEEKDAY(CURRENT_DATE)) DAY) GROUP BY T3.name",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n查看进线AL总开关上个月的能耗。\n\n###回答:",
        "output": "SELECT SUM(T1.kwh) FROM stats_month_meter T1 JOIN tb_terminal T2 ON T1.terminal_id=T2.id JOIN tb_loop T3 ON T2.loop_id=T3.id WHERE T3.name='AL总开关' AND T1.year=YEAR(DATE_SUB(CURDATE(), INTERVAL 1 MONTH)) AND T1.month=MONTH(DATE_SUB(CURDATE(), INTERVAL 1 MONTH))",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n一号楼一楼照明设备昨天的能耗比前天降低多少？\n\n###回答:",
        "output": "SELECT V1.VALUE-V2.VALUE AS DIFF FROM (SELECT SUM(T1.kwh) AS VALUE FROM stats_day_meter T1 JOIN tb_floor T2 ON T1.floor_id = T2.id JOIN tb_building T3 ON T2.building_id = T3.id WHERE T3.number = '一号楼' AND T2.floor_number = 'F1' AND T1.stats_time = DATE_SUB(CURDATE(), INTERVAL 1 DAY) AND T1.terminal_type = '照明') V1, (SELECT SUM(T1.kwh) AS VALUE FROM stats_day_meter T1 JOIN tb_floor T2 ON T1.floor_id = T2.id JOIN tb_building T3 ON T2.building_id = T3.id WHERE T3.number = '一号楼' AND T2.floor_number = 'F1' AND T1.stats_time = DATE_SUB(CURDATE(), INTERVAL 2 DAY) AND T1.terminal_type = '照明') V2",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n一号楼最高楼层和今年每月能耗是多少？\n\n###回答:",
        "output": "SELECT T2.floor_number, T1.month, SUM(T1.kwh) AS total_kwh FROM stats_month_meter T1 JOIN tb_floor T2 ON T1.floor_id = T2.id JOIN tb_building T3 ON T2.building_id = T3.id WHERE T2.floor_number = (SELECT MAX(T4.floor_number) FROM tb_floor T4 JOIN tb_building T5 ON T4.building_id = T5.id WHERE T5.number = '一号楼') AND T1.year = YEAR(CURDATE()) GROUP BY T2.floor_number, T1.month",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n有多少种不同的电流规格\n\n###回答:",
        "output": "SELECT COUNT(DISTINCT current_specification) FROM tb_loop",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n计算一号楼最近15天的每日能耗\n\n###回答:",
        "output": "SELECT T1.stats_time, SUM(T1.kwh) FROM stats_day_meter AS T1 JOIN tb_floor AS T2 ON T1.floor_id = T2.id JOIN tb_building AS T3 ON T2.building_id = T3.id WHERE T3.number = '一号楼' AND T1.stats_time >= DATE_SUB(CURDATE(), INTERVAL 15 DAY) AND T1.stats_time<CURDATE() GROUP BY T1.stats_time",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n查找最小面积的楼层。\n\n###回答:",
        "output": "SELECT floor_number,area FROM tb_floor WHERE area IN (SELECT MIN(area) FROM tb_floor)",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n显示最早安装的通讯机的连接设备名。\n\n###回答:",
        "output": "SELECT T2.name FROM tb_smart_manager_device AS T1 JOIN tb_terminal AS T2 ON T1.id=T2.smart_manager_device_id WHERE T1.install_time IN (SELECT MIN(install_time) FROM tb_smart_manager_device )",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n今年每月同比能耗变化量是多少？\n\n###回答:",
        "output": "SELECT V1.year, V1.month, (V1.total - V2.total) AS diff FROM (SELECT year, month, SUM(kwh) AS total FROM stats_month_meter WHERE year = YEAR(CURDATE()) GROUP BY year, month) V1 LEFT JOIN (SELECT year, month, SUM(kwh) AS total FROM stats_month_meter WHERE year = YEAR(CURDATE()) - 1 GROUP BY year, month) V2 ON V1.month = V2.month",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n显示今天能耗小于10或能耗大于100的设备名。\n\n###回答:",
        "output": "SELECT T2.name FROM stats_day_meter AS T1 JOIN tb_terminal AS T2 ON T1.terminal_id = T2.id WHERE DATE(T1.create_time) = CURDATE() AND (T1.kwh < 10 OR T1.kwh > 100)",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n告诉我22年上半年和23年上半年设备类型为“空调”的总能耗。\n\n###回答:",
        "output": "SELECT year,SUM(kwh) FROM stats_month_meter WHERE ((year=2022 AND month<=6 AND month>=1) OR (year=2023 AND month<=6 AND month>=1)) AND terminal_type  IN (\"空调\") GROUP BY year",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n上周回路AL总开关总能耗是多少？\n\n###回答:",
        "output": "SELECT SUM(T1.kwh) FROM stats_day_meter AS T1 JOIN tb_terminal AS T2 ON T1.terminal_id=T2.id JOIN tb_loop AS T3 ON T2.loop_id=T3.id WHERE T3.name=\"AL总开关\"  AND stats_time>=DATE_SUB(CURDATE(), interval weekday(CURDATE()) + 7 day) AND stats_time<=DATE_SUB(CURDATE(), interval weekday(CURDATE()) + 1 day) ",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n一号楼最小面积的楼层的通讯机有哪些机器型号？\n\n###回答:",
        "output": "SELECT T1.model FROM tb_smart_manager_device AS T1 JOIN tb_floor AS T2 ON T1.floor_id = T2.id JOIN tb_building AS T3 ON T2.building_id = T3.id WHERE T2.area = (SELECT MIN(area) FROM tb_floor WHERE building_id = (SELECT id FROM tb_building WHERE number = '一号楼')) AND T3.number = '一号楼'",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n查看一号楼三楼本周能耗。\n\n###回答:",
        "output": "SELECT SUM(T1.kwh) FROM stats_day_meter AS T1 JOIN tb_floor AS T2 ON T1.floor_id = T2.id JOIN tb_building AS T3 ON T2.building_id = T3.id WHERE T3.number = '一号楼' AND T2.floor_number = 'F3' AND T1.stats_time >= DATE_FORMAT(NOW() - INTERVAL WEEKDAY(NOW()) DAY, '%Y-%m-%d') AND T1.stats_time <= DATE_FORMAT(NOW() + INTERVAL (6 - WEEKDAY(NOW())) DAY, '%Y-%m-%d')",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n查看进线AL总开关上个星期的环比能耗增长率。\n\n###回答:",
        "output": "SELECT CONCAT(ROUND((V1.total-V2.total)/V2.total*100,2),'%') AS diff FROM (SELECT SUM(T1.kwh) AS total FROM stats_day_meter AS T1 JOIN tb_terminal AS T2 ON T1.terminal_id=T2.id JOIN tb_loop AS T3 ON T2.loop_id=T3.id WHERE T3.name = 'AL总开关' AND T1.stats_time BETWEEN DATE_SUB(CURDATE(), INTERVAL WEEKDAY(CURDATE()) + 7 DAY) AND DATE_SUB(CURDATE(), INTERVAL WEEKDAY(CURDATE()) + 1 DAY)) V1 JOIN (SELECT SUM(T1.kwh) AS total FROM stats_day_meter AS T1 JOIN tb_terminal AS T2 ON T1.terminal_id=T2.id JOIN tb_loop AS T3 ON T2.loop_id=T3.id WHERE T3.name = 'AL总开关' AND T1.stats_time BETWEEN DATE_SUB(CURDATE(), INTERVAL WEEKDAY(CURDATE()) + 14 DAY) AND DATE_SUB(CURDATE(), INTERVAL WEEKDAY(CURDATE()) + 8 DAY)) V2",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n显示回路等级最高的电表箱名和电表箱ID。\n\n###回答:",
        "output": "SELECT T2.number, T1.cabinet_id FROM tb_loop AS T1 JOIN tb_cabinet AS T2 ON T1.cabinet_id = T2.id ORDER BY T1.level DESC LIMIT 1",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n除了空调、插座和照明,其他设备在去年下半年的每个月总能耗是多少？\n\n###回答:",
        "output": "SELECT month,SUM(kwh) FROM stats_month_meter WHERE year=YEAR(CURDATE())-1 AND month<=12 AND month>=7 AND terminal_type NOT IN (\"空调\",\"插座\",\"照明\") GROUP BY month",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n求１号楼最高楼层今年每个设备的ID和月均能耗是多少？\n\n###回答:",
        "output": "SELECT T4.identification, AVG(T1.kwh) FROM stats_month_meter T1 JOIN tb_floor T2 ON T1.floor_id = T2.id JOIN tb_building T3 ON T2.building_id = T3.id JOIN tb_terminal T4 ON T1.terminal_id = T4.id WHERE T3.number = '一号楼' AND T1.year = YEAR(CURDATE()) AND T2.floor_number = (SELECT MAX(V1.floor_number) FROM tb_floor V1 JOIN tb_building V2 ON V1.building_id = V2.id WHERE V2.number = '一号楼') GROUP BY T4.identification",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n计算１号楼本周的每日能耗。\n\n###回答:",
        "output": "SELECT T1.stats_time, SUM(T1.kwh) FROM stats_day_meter AS T1 JOIN tb_floor AS T2 ON T1.floor_id = T2.id JOIN tb_building AS T3 ON T2.building_id = T3.id WHERE T3.number = '一号楼' AND T1.stats_time >= DATE_FORMAT(NOW() - INTERVAL WEEKDAY(NOW()) DAY, '%Y-%m-%d') AND T1.stats_time <= DATE_FORMAT(NOW() + INTERVAL (6 - WEEKDAY(NOW())) DAY, '%Y-%m-%d') GROUP BY T1.stats_time",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n一号楼最高层通信机“智能通讯管理机”的ID是什么？\n\n###回答:",
        "output": "SELECT T1.identification FROM tb_smart_manager_device AS T1 JOIN tb_floor AS T2 ON T1.floor_id=T2.id JOIN tb_building AS T3 ON T2.building_id=T3.id WHERE T3.number='一号楼' AND T2.floor_number=(SELECT MAX(floor_number) FROM tb_floor WHERE building_id=T3.id)",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n设备型号为“ADL400-C”的通讯机名称和通讯机ID有那些\n\n###回答:",
        "output": "SELECT T1.name,T1.identification FROM tb_smart_manager_device AS T1 JOIN tb_terminal AS T2 ON T1.id=T2.smart_manager_device_id WHERE T2.model=\"ADL400-C\"",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n经度为117.194116的园区地址是？\n\n###回答:",
        "output": "SELECT DISTINCT address FROM tb_park WHERE longitude=117.194116",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n上个月一楼市电3进线同比能耗变化量是多少？\n\n###回答:",
        "output": "SELECT (coalesce( V1.total,0)-coalesce( V2.total,0)) diff FROM (SELECT SUM(T1.kwh) total  FROM stats_month_meter T1 JOIN tb_terminal T2 ON T1.terminal_id=T2.id JOIN tb_loop T3 ON T2.loop_id=T3.id WHERE T3.name IN (\"一楼市电3进线\") AND T1.year=YEAR(DATE_SUB(CURDATE(),INTERVAL 1 MONTH)) AND T1.month=MONTH(DATE_SUB(CURDATE(),INTERVAL 1 MONTH)) ) V1,(SELECT SUM(T1.kwh) total  FROM stats_month_meter T1 JOIN tb_terminal T2 ON T1.terminal_id=T2.id JOIN tb_loop T3 ON T2.loop_id=T3.id WHERE T3.name IN (\"一楼市电3进线\") AND T1.year=YEAR(DATE_SUB(CURDATE(),INTERVAL 1 MONTH))-1 AND T1.month=MONTH(DATE_SUB(CURDATE(),INTERVAL 1 MONTH))) V2",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n查看今年每月能耗同比增长率。\n\n###回答:",
        "output": "SELECT V1.month,CONCAT(ROUND((V1.total-V2.total)/V2.total*100,2),\"%\") diff FROM (SELECT year,month,SUM(kwh) total FROM stats_month_meter WHERE year=YEAR(CURDATE()) GROUP BY year,month) V1 JOIN (SELECT year,month,SUM(kwh) total FROM stats_month_meter WHERE year=YEAR(CURDATE())-1 GROUP BY year,month) V2 ON (V1.month=V2.month AND V1.year = V2.year+1)",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n今年2月耗电最厉害的设备名是什么？\n\n###回答:",
        "output": "SELECT DISTINCT T2.name FROM stats_month_meter T1 JOIN tb_terminal T2 ON T1.terminal_id=T2.id WHERE T1.year=YEAR(CURDATE()) AND T1.month=2 AND T1.kwh=(SELECT MAX(kwh) FROM stats_month_meter WHERE year=YEAR(CURDATE()) AND month=2)",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n１号楼二楼每个设备本月每日总能耗是多少？\n\n###回答:",
        "output": "SELECT T4.name ,T1.stats_time,SUM(T1.kwh)  FROM stats_day_meter T1 JOIN tb_floor T2 ON T1.floor_id=T2.id JOIN tb_building T3 ON T2.building_id=T3.id JOIN tb_terminal T4 ON T1.terminal_id=T4.id WHERE  T3.number=\"一号楼\"  AND T2.floor_number=\"F2\" AND T1.stats_time>=DATE_SUB(CURDATE(), INTERVAL DAYOFMONTH(CURDATE()) - 1 DAY)  GROUP BY T4.name,T1.stats_time",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n请问上个季度的能耗是多少？\n\n###回答:",
        "output": "SELECT SUM(kwh) FROM stats_month_meter T1 WHERE ((QUARTER(CURDATE()) = 1 AND T1.year = YEAR(CURDATE()) - 1 AND T1.month IN (10, 11, 12)) OR (QUARTER(CURDATE()) = 2 AND T1.year = YEAR(CURDATE()) AND T1.month IN (1, 2, 3)) OR (QUARTER(CURDATE()) = 3 AND T1.year = YEAR(CURDATE()) AND T1.month IN (4, 5, 6)) OR (QUARTER(CURDATE()) = 4 AND T1.year = YEAR(CURDATE()) AND T1.month IN (7, 8, 9)))",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n昨天能耗>=20且<=30的设备的配电柜编号是什么？\n\n###回答:",
        "output": "SELECT DISTINCT T2.number FROM stats_day_meter AS T1 JOIN tb_cabinet AS T2 ON T1.cabinet_id=T2.id WHERE T1.kwh>=20 AND T1.kwh<=30 AND T1.stats_time=DATE_SUB(CURDATE(), INTERVAL 1 DAY)",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n请提供楼层“F1”的面积信息\n\n###回答:",
        "output": "SELECT area FROM tb_floor WHERE floor_number=\"F1\"",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n显示去年上半年每个月能耗同比增长量。\n\n###回答:",
        "output": "SELECT V1.year, V1.month, (V1.total - V2.total) AS diff FROM (SELECT year, month, SUM(kwh) AS total FROM stats_month_meter WHERE year = YEAR(CURDATE()) - 1 AND month >= 1 AND month <= 6 GROUP BY year, month) V1 LEFT JOIN (SELECT year, month, SUM(kwh) AS total FROM stats_month_meter WHERE year = YEAR(CURDATE()) - 2 AND month >= 1 AND month <= 6 GROUP BY year, month) V2 ON V1.year = V2.year AND V1.month = V2.month ",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n计算１号楼2楼最近一年的每月能耗。\n\n###回答:",
        "output": "SELECT T1.year,T1.month,SUM(T1.kwh)  FROM stats_month_meter T1 JOIN tb_floor T2 ON T1.floor_id=T2.id JOIN tb_building T3 ON T2.building_id=T3.id WHERE T3.number=\"一号楼\" AND T2.floor_number=\"F2\" AND ((T1.year=YEAR(DATE_SUB(CURDATE(),INTERVAL 1 YEAR)) AND T1.month>MONTH(DATE_SUB(CURDATE(),INTERVAL 1 YEAR))) OR (T1.year=YEAR(CURDATE()) AND T1.month<=MONTH(CURDATE())) ) GROUP BY T1.year,T1.month",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n查看今年一号楼每月的能耗。\n\n###回答:",
        "output": "SELECT T1.month,SUM(T1.kwh)  FROM stats_month_meter T1 JOIN tb_floor T2 ON T1.floor_id=T2.id JOIN tb_building T3 ON T2.building_id=T3.id WHERE T3.number=\"一号楼\" AND T1.year=YEAR(CURDATE()) AND T1.month>=1 GROUP BY T1.month",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n一号楼四楼每个设备本月每天耗能多少？\n\n###回答:",
        "output": "SELECT T4.name ,T1.stats_time,SUM(T1.kwh)  FROM stats_day_meter T1 JOIN tb_floor T2 ON T1.floor_id=T2.id JOIN tb_building T3 ON T2.building_id=T3.id JOIN tb_terminal T4 ON T1.terminal_id=T4.id WHERE  T3.number=\"一号楼\"  AND T2.floor_number=\"F4\" AND T1.stats_time>=DATE_SUB(CURDATE(), INTERVAL DAYOFMONTH(CURDATE()) - 1 DAY)  GROUP BY T4.name,T1.stats_time",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n未在线设备的数量\n\n###回答:",
        "output": "SELECT COUNT(*) FROM tb_terminal WHERE status=0",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n上季度的总能耗是多少？\n\n###回答:",
        "output": "SELECT SUM(kwh) FROM stats_month_meter T1 WHERE ((QUARTER(CURDATE()) = 1 AND T1.year = YEAR(CURDATE()) - 1 AND T1.month IN (10, 11, 12)) OR (QUARTER(CURDATE()) = 2 AND T1.year = YEAR(CURDATE()) AND T1.month IN (1, 2, 3)) OR (QUARTER(CURDATE()) = 3 AND T1.year = YEAR(CURDATE()) AND T1.month IN (4, 5, 6)) OR (QUARTER(CURDATE()) = 4 AND T1.year = YEAR(CURDATE()) AND T1.month IN (7, 8, 9)))",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n计算最近一周照明设备的总能耗。\n\n###回答:",
        "output": "SELECT SUM(kwh) FROM stats_day_meter WHERE terminal_type='照明' AND stats_time >= DATE_SUB(CURDATE(), INTERVAL 7 DAY) AND stats_time < CURDATE()",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n回路“2AP1总开关”在那层楼\n\n###回答:",
        "output": "SELECT T3.floor_number FROM tb_loop T1 JOIN tb_cabinet T2 ON T1.cabinet_id=T2.id JOIN tb_floor T3 ON T2.floor_id=T3.id WHERE T1.name=\"2AP1总开关\"",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n上个季度总碳排放量是多少\n\n###回答:",
        "output": "SELECT SUM(kwh) * 0.785 carbon_emission FROM stats_month_meter T1 WHERE ((QUARTER(CURDATE()) = 1 AND T1.year = YEAR(CURDATE()) - 1 AND T1.month IN (10, 11, 12)) OR (QUARTER(CURDATE()) = 2 AND T1.year = YEAR(CURDATE()) AND T1.month IN (1, 2, 3)) OR (QUARTER(CURDATE()) = 3 AND T1.year = YEAR(CURDATE()) AND T1.month IN (4, 5, 6)) OR (QUARTER(CURDATE()) = 4 AND T1.year = YEAR(CURDATE()) AND T1.month IN (7, 8, 9)))",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n我想要了解“一号楼”每层的能耗情况，你能告诉我吗？\n\n###回答:",
        "output": "SELECT T2.floor_number,SUM(T1.kwh) FROM stats_day_meter AS T1 JOIN tb_floor AS T2 ON T1.floor_id=T2.id JOIN tb_building AS T3 ON T2.building_id=T3.id WHERE T3.number=\"一号楼\" GROUP BY T1.floor_id",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n计算进线AL总开关最近10个月的总能耗。\n\n###回答:",
        "output": "SELECT SUM(T1.kwh) FROM stats_month_meter T1 JOIN tb_terminal T2 ON T1.terminal_id=T2.id WHERE T2.name='AL总开关' AND (T1.year, T1.month) > (YEAR(DATE_SUB(CURDATE(), INTERVAL 10 MONTH)), MONTH(DATE_SUB(CURDATE(), INTERVAL 10 MONTH))) AND (T1.year, T1.month) <= (YEAR(CURDATE()), MONTH(CURDATE()))",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n请展示最近一年每月的总能耗数据。\n\n###回答:",
        "output": "SELECT year, month, SUM(kwh) AS total_kwh FROM stats_month_meter WHERE (year = YEAR(CURDATE()) AND month < MONTH(CURDATE())) OR (year = YEAR(DATE_SUB(CURDATE(), INTERVAL 1 YEAR)) AND month >= MONTH(CURDATE())) GROUP BY year, month",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n最近一季度配电柜“3AP1”的总能耗是多少？\n\n###回答:",
        "output": "SELECT SUM(T1.kwh) total FROM stats_month_meter AS T1 JOIN tb_cabinet AS T2 ON T1.cabinet_id = T2.id WHERE T2.number = '3AP1' AND ((QUARTER(CURDATE()) = 1 AND T1.year = YEAR(CURDATE()) - 1 AND T1.month IN (10, 11, 12)) OR (QUARTER(CURDATE()) = 2 AND T1.year = YEAR(CURDATE()) AND T1.month IN (1, 2, 3)) OR (QUARTER(CURDATE()) = 3 AND T1.year = YEAR(CURDATE()) AND T1.month IN (4, 5, 6)) OR (QUARTER(CURDATE()) = 4 AND T1.year = YEAR(CURDATE()) AND T1.month IN (7, 8, 9)))",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n除了插座设备,去年其他各设备类型的每月能耗是多少\n\n###回答:",
        "output": "SELECT terminal_type, month, SUM(kwh) FROM stats_month_meter WHERE year=YEAR(CURDATE())-1 AND terminal_type NOT IN ('插座') GROUP BY terminal_type, month",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n1号楼三条总进线中,每条总线上个月的能耗是多少？\n\n###回答:",
        "output": "SELECT T3.name,SUM(T1.kwh)  FROM stats_month_meter T1 JOIN tb_terminal T2 ON T1.terminal_id=T2.id JOIN tb_loop T3 ON T2.loop_id=T3.id WHERE T3.name IN (\"2AP1总开关\",\"AL总开关\",\"一楼市电3进线\") AND T1.year=YEAR(DATE_SUB(CURDATE(),INTERVAL 1 MONTH)) AND T1.month=MONTH(DATE_SUB(CURDATE(),INTERVAL 1 MONTH)) GROUP BY T3.name",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n2020年到24年每年能耗的同比变化量是多少？\n\n###回答:",
        "output": "SELECT V1.year, (COALESCE(V1.total, 0) - COALESCE(V2.total, 0)) AS diff FROM (SELECT year, SUM(kwh) AS total FROM stats_month_meter WHERE year BETWEEN 2020 AND 2024 GROUP BY year) V1 LEFT JOIN (SELECT year, SUM(kwh) AS total FROM stats_month_meter WHERE year BETWEEN 2020 AND 2023 GROUP BY year) V2 ON V1.year = V2.year + 1",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n查询今天各设备类型的总能耗是多少,除了插座的。\n\n###回答:",
        "output": "SELECT terminal_type,SUM(kwh) FROM stats_day_meter WHERE stats_time=CURDATE() AND terminal_type NOT IN (\"插座\") GROUP BY terminal_type",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n告诉我去年7月耗电最低的10台设备ID和设备型号。\n\n###回答:",
        "output": "SELECT T2.identification,T2.model FROM stats_month_meter T1 JOIN tb_terminal T2 ON T1.terminal_id=T2.id WHERE T1.year=YEAR(CURDATE())-1 AND T1.month=7 ORDER BY T1.kwh ASC LIMIT 10",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n2020年到24年的每年的总能耗是多少？\n\n###回答:",
        "output": "SELECT year,SUM(kwh) FROM stats_month_meter WHERE year>=2020 and year<=2024 GROUP BY year",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n一号楼一楼今年的总能耗比起去年降低多少？\n\n###回答:",
        "output": "SELECT (coalesce( V1.total,0)-coalesce( V2.total,0)) diff FROM (SELECT SUM(T1.kwh) total FROM stats_month_meter T1 JOIN tb_floor T2 ON T1.floor_id=T2.id JOIN tb_building T3 ON T2.building_id=T3.id  WHERE T3.number=\"一号楼\" AND T2.floor_number=\"F1\"  AND T1.year=YEAR(CURDATE()) ) V1 ,(SELECT SUM(T1.kwh) total  FROM stats_month_meter T1 JOIN tb_floor T2 ON T1.floor_id=T2.id JOIN tb_building T3 ON T2.building_id=T3.id  WHERE T3.number=\"一号楼\" AND T2.floor_number=\"F1\"  AND T1.year=YEAR(CURDATE())-1) V2",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n通信机编号为“PCG-001”是在那栋楼宇\n\n###回答:",
        "output": "SELECT T3.number FROM tb_smart_manager_device T1 JOIN tb_floor T2 ON T1.floor_id = T2.id JOIN tb_building T3 ON T2.building_id = T3.id WHERE T1.number = 'PCG-001'",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n计算21年总能耗。\n\n###回答:",
        "output": "SELECT SUM(kwh) FROM stats_month_meter WHERE year=2021",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n去年上半年1号楼插座设备每月同比能耗变化量是多少？\n\n###回答:",
        "output": "SELECT V1.month, COALESCE(V1.total, 0) - COALESCE(V2.total, 0) AS diff FROM (SELECT year, month, SUM(kwh) AS total FROM stats_month_meter T1 JOIN tb_floor T2 ON T1.floor_id = T2.id JOIN tb_building T3 ON T2.building_id = T3.id WHERE T1.terminal_type = '插座' AND T1.year = YEAR(CURDATE()) - 1 AND T1.month >= 1 AND T1.month <= 6 AND T3.number = '一号楼' GROUP BY year, month) V1 LEFT JOIN (SELECT year, month, SUM(kwh) AS total FROM stats_month_meter T1 JOIN tb_floor T2 ON T1.floor_id = T2.id JOIN tb_building T3 ON T2.building_id = T3.id WHERE T1.terminal_type = '插座' AND T3.number = '一号楼' AND T1.year = YEAR(CURDATE()) - 2 AND T1.month >= 1 AND T1.month <= 6 GROUP BY year, month) V2 ON V1.month = V2.month AND V1.year = V2.year + 1",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n上个月最大能耗的设备名和耗能量是什么？\n\n###回答:",
        "output": "SELECT T2.name,T1.kwh FROM stats_month_meter T1 JOIN tb_terminal T2 ON T1.terminal_id=T2.id WHERE T1.kwh=(SELECT MAX(kwh) FROM stats_month_meter WHERE year=YEAR(DATE_SUB(CURDATE(),INTERVAL 1 MONTH)) AND month=MONTH(DATE_SUB(CURDATE(),INTERVAL 1 MONTH))) AND T1.year=YEAR(DATE_SUB(CURDATE(),INTERVAL 1 MONTH)) AND T1.month=MONTH(DATE_SUB(CURDATE(),INTERVAL 1 MONTH))",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n告诉我去年12月的最小能耗的设备ID和能耗量。\n\n###回答:",
        "output": "SELECT T2.identification,T1.kwh FROM stats_month_meter T1 JOIN tb_terminal T2 ON T1.terminal_id=T2.id WHERE T1.year=YEAR(CURDATE())-1 AND T1.month=12 AND T1.kwh=(SELECT MIN(kwh) FROM stats_month_meter WHERE year=YEAR(CURDATE())-1 AND month=12)",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n显示一号楼每个楼层的通讯机的名称和机器ID。\n\n###回答:",
        "output": "SELECT T2.floor_number, T1.name, T1.id AS machine_id FROM tb_smart_manager_device AS T1 JOIN tb_floor AS T2 ON T1.floor_id = T2.id JOIN tb_building AS T3 ON T2.building_id = T3.id WHERE T3.number = '一号楼'",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n计算１号楼最高楼层照明设备本周每日能耗。\n\n###回答:",
        "output": "SELECT T1.stats_time, SUM(T1.kwh) FROM stats_day_meter T1 JOIN tb_floor T2 ON T1.floor_id=T2.id JOIN tb_building T3 ON T2.building_id=T3.id WHERE T3.number='一号楼' AND T1.terminal_type='照明' AND T1.stats_time >= DATE_SUB(CURDATE(), INTERVAL WEEKDAY(CURDATE()) DAY) AND T2.floor_number = (SELECT MAX(V1.floor_number) FROM tb_floor V1 JOIN tb_building V2 ON V1.building_id = V2.id WHERE V2.number = '一号楼') GROUP BY T1.stats_time",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n查看每台通讯机连接的设备中,最新上报的设备名和上报时间。\n\n###回答:",
        "output": "SELECT T1.name ,MAX(T1.report_time_update) FROM tb_terminal AS T1 JOIN tb_smart_manager_device AS T2 ON T1.smart_manager_device_id=T2.id GROUP BY T1.smart_manager_device_id",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n查看2023年下半年的环比能耗增长量。\n\n###回答:",
        "output": "SELECT (V1.total - V2.total) AS diff FROM (SELECT SUM(kwh) AS total FROM stats_month_meter WHERE year=2023 AND month BETWEEN 7 AND 12) V1 CROSS JOIN (SELECT SUM(kwh) AS total FROM stats_month_meter WHERE year=2023 AND month BETWEEN 1 AND 6) V2",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n计算配电柜“3AP1”最近一季度的总能耗。\n\n###回答:",
        "output": "SELECT SUM(T1.kwh) total FROM stats_month_meter AS T1 JOIN tb_cabinet AS T2 ON T1.cabinet_id = T2.id WHERE T2.number = '3AP1' AND ((QUARTER(CURDATE()) = 1 AND T1.year = YEAR(CURDATE()) - 1 AND T1.month IN (10, 11, 12)) OR (QUARTER(CURDATE()) = 2 AND T1.year = YEAR(CURDATE()) AND T1.month IN (1, 2, 3)) OR (QUARTER(CURDATE()) = 3 AND T1.year = YEAR(CURDATE()) AND T1.month IN (4, 5, 6)) OR (QUARTER(CURDATE()) = 4 AND T1.year = YEAR(CURDATE()) AND T1.month IN (7, 8, 9)))",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n昨天能耗大于等于200的楼层有哪些？\n\n###回答:",
        "output": "SELECT T2.floor_number  FROM stats_day_meter AS T1 JOIN tb_floor AS T2 ON T1.floor_id=T2.id WHERE stats_time=DATE_SUB(CURDATE(),INTERVAL 1 DAY) GROUP BY T1.floor_id HAVING SUM(T1.kwh)>=200",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n１号楼2楼空调、照明各设备最近半年的平均能耗是多少？\n\n###回答:",
        "output": "SELECT T1.terminal_type, AVG(T1.kwh)  FROM stats_month_meter T1 JOIN tb_floor T2 ON T1.floor_id=T2.id JOIN tb_building T3 ON T2.building_id=T3.id   WHERE T3.number=\"一号楼\" AND T2.floor_number=\"F2\"  AND T1.terminal_type IN (\"空调\",\"照明\") AND ((T1.year=YEAR(DATE_SUB(CURDATE(),INTERVAL 6 MONTH)) AND T1.month>MONTH(DATE_SUB(CURDATE(),INTERVAL 6 MONTH))) OR (T1.year=YEAR(CURDATE()) AND T1.month<=MONTH(CURDATE())) ) GROUP BY T1.terminal_type",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n查找最早安装的通讯机的所在楼层。\n\n###回答:",
        "output": "SELECT T2.floor_number FROM tb_smart_manager_device AS T1 JOIN tb_floor AS T2 ON T1.floor_id=T2.id  ORDER BY T1.install_time ASC LIMIT 1",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n上周空调设备的每日能耗是多少？\n\n###回答:",
        "output": "SELECT stats_time, SUM(kwh) AS daily_energy_consumption FROM stats_day_meter WHERE terminal_type='空调' AND stats_time BETWEEN DATE_SUB(CURDATE(), INTERVAL WEEKDAY(CURDATE()) + 7 DAY) AND DATE_SUB(CURDATE(), INTERVAL WEEKDAY(CURDATE()) + 1 DAY) GROUP BY stats_time",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n今年每个楼层的每月能耗是多少？\n\n###回答:",
        "output": "SELECT T2.floor_number,T1.month,SUM(T1.kwh) total  FROM stats_month_meter T1 JOIN tb_floor T2 ON T1.floor_id=T2.id WHERE T1.year=YEAR(CURDATE()) AND T1.month>=1 GROUP BY T2.floor_number,T1.month",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n查找昨天耗电最多的设备的所在楼层。\n\n###回答:",
        "output": "SELECT T2.floor_number  FROM stats_day_meter T1 JOIN tb_floor T2 ON T1.floor_id=T2.id WHERE T1.stats_time=DATE_SUB(CURDATE(),INTERVAL 1 DAY) GROUP BY T2.floor_number HAVING SUM(T1.kwh)=(SELECT MAX(total) FROM (SELECT SUM(T1.kwh) total FROM stats_day_meter T1 JOIN tb_floor T2 ON T1.floor_id=T2.id WHERE T1.stats_time=DATE_SUB(CURDATE(),INTERVAL 1 DAY) GROUP BY T2.floor_number) sub)",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n昨天耗电最厉害的楼层是哪一层楼？\n\n###回答:",
        "output": "SELECT T2.floor_number FROM stats_day_meter AS T1 JOIN tb_floor AS T2 ON T1.floor_id=T2.id  WHERE stats_time=DATE_SUB(CURDATE(), INTERVAL 1 DAY) GROUP BY T1.floor_id ORDER BY SUM(T1.kwh) DESC LIMIT 1 ",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n去年1月2号一号楼的总能耗是多少？\n\n###回答:",
        "output": "SELECT SUM(T1.kwh) FROM stats_day_meter AS T1 JOIN tb_floor AS T2 ON T1.floor_id = T2.id JOIN tb_building AS T3 ON T2.building_id = T3.id WHERE T3.number = '一号楼' AND T1.stats_time = DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 YEAR), '%Y-01-02')",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n拉出自今年以来功率超过200的记录\n\n###回答:",
        "output": "SELECT * FROM tb_month_eus WHERE total_power > 200 AND year=YEAR(CURDATE())",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n回路等级最高的回路和和设备ID有哪些？\n\n###回答:",
        "output": "SELECT T1.name, T2.id FROM tb_loop AS T1 JOIN tb_terminal AS T2 ON T1.id = T2.loop_id WHERE T1.level = (SELECT MAX(level) FROM tb_loop)",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n昨天总碳排放量是多少\n\n###回答:",
        "output": "SELECT SUM(kwh)*0.785 carbon_emission  FROM stats_day_meter WHERE stats_time=DATE_SUB(CURDATE(),INTERVAL 1 DAY)",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n计算去年下半年总能耗。\n\n###回答:",
        "output": "SELECT SUM(kwh) FROM stats_month_meter WHERE year=YEAR(DATE_SUB(CURDATE(),INTERVAL 1 YEAR)) AND month>6 AND month<=12",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n今年回路2AP1总开关的每月能耗是多少？\n\n###回答:",
        "output": "SELECT T1.month,SUM(T1.kwh) FROM stats_month_meter T1 JOIN tb_terminal T2 ON T1.terminal_id=T2.id JOIN tb_loop T3 ON T2.loop_id=T3.id WHERE T3.name IN (\"2AP1总开关\") AND T1.year=YEAR(CURDATE()) GROUP BY T1.month",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n查看配电柜昨天与前天的能耗差。\n\n###回答:",
        "output": "SELECT T1.value-T2.value AS diff FROM (SELECT SUM(kwh) AS value FROM stats_day_meter WHERE stats_time=DATE_SUB(CURDATE(), INTERVAL 1 DAY)) AS T1,(SELECT SUM(kwh) AS value FROM stats_day_meter WHERE stats_time=DATE_SUB(CURDATE(), INTERVAL 2 DAY)) AS T2",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n去年最耗电的设备类型是什么？\n\n###回答:",
        "output": "SELECT terminal_type, SUM(kwh) total FROM stats_month_meter WHERE year=YEAR(CURDATE())-1 GROUP BY terminal_type HAVING total=(SELECT MAX(total_sub) FROM (SELECT SUM(kwh) total_sub FROM stats_month_meter  WHERE year=YEAR(CURDATE())-1 GROUP BY terminal_type) sub)",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n１号楼最近半年的每月能耗是多少？\n\n###回答:",
        "output": "SELECT T1.year, T1.month, SUM(T1.kwh) FROM stats_month_meter T1 JOIN tb_floor T2 ON T1.floor_id = T2.id JOIN tb_building T3 ON T2.building_id = T3.id WHERE T3.number = '一号楼' AND CONCAT(T1.year, LPAD(T1.month, 2, '0')) >= DATE_FORMAT(DATE_SUB(CURDATE(), INTERVAL 6 MONTH), '%Y%m') AND CONCAT(T1.year, LPAD(T1.month, 2, '0')) < DATE_FORMAT(CURDATE(), '%Y%m') GROUP BY T1.year, T1.month",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n计算１号楼最高楼层上周每个设备的ID和每天的能耗。\n\n###回答:",
        "output": "SELECT T4.identification, AVG(T1.kwh) AS avg_kwh FROM stats_day_meter T1 JOIN tb_floor T2 ON T1.floor_id = T2.id JOIN tb_building T3 ON T2.building_id = T3.id JOIN tb_terminal T4 ON T1.terminal_id = T4.id WHERE T3.number = '一号楼' AND T1.stats_time BETWEEN DATE_SUB(CURDATE(), INTERVAL (WEEKDAY(CURDATE()) + 7) DAY) AND DATE_SUB(CURDATE(), INTERVAL WEEKDAY(CURDATE()) DAY) AND T2.floor_number = (SELECT MAX(V1.floor_number) FROM tb_floor V1 JOIN tb_building V2 ON V1.building_id = V2.id WHERE V2.number = '一号楼') GROUP BY T4.identification, T1.stats_time",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n最新上报的设备名是什么？上报时间是什么？\n\n###回答:",
        "output": "SELECT T1.name, T1.report_time_update FROM tb_terminal AS T1 WHERE T1.report_time_update = (SELECT MAX(report_time_update) FROM tb_terminal)",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n告诉我最近一个季度“小厨室”设备的能耗是多少？\n\n###回答:",
        "output": "SELECT SUM(T1.kwh) FROM stats_month_meter AS T1 JOIN tb_terminal AS T2 ON T1.terminal_id = T2.id WHERE T2.name = '小厨室' AND ((QUARTER(CURDATE()) = 1 AND T1.year = YEAR(CURDATE()) - 1 AND T1.month IN (10, 11, 12)) OR (QUARTER(CURDATE()) = 2 AND T1.year = YEAR(CURDATE()) AND T1.month IN (1, 2, 3)) OR (QUARTER(CURDATE()) = 3 AND T1.year = YEAR(CURDATE()) AND T1.month IN (4, 5, 6)) OR (QUARTER(CURDATE()) = 4 AND T1.year = YEAR(CURDATE()) AND T1.month IN (7, 8, 9)))",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n去年配电柜“AL”的总能耗是多少？\n\n###回答:",
        "output": "SELECT SUM(T1.kwh) total FROM stats_month_meter T1 JOIN tb_cabinet AS T2 ON T1.cabinet_id=T2.id WHERE T2.number=\"AL\" AND T1.year=YEAR(CURDATE())-1",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n找出只有一个回路的电流规格\n\n###回答:",
        "output": "SELECT current_specification FROM tb_loop GROUP BY current_specification HAVING COUNT(DISTINCT id) = 1",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n告诉我一号楼三条总进线中,上个月最耗能的回路名称和设备总能耗。\n\n###回答:",
        "output": "SELECT T3.name,SUM(T1.kwh) FROM stats_month_meter T1 JOIN tb_terminal T2 ON T1.terminal_id=T2.id JOIN tb_loop T3 ON T2.loop_id=T3.id  WHERE T3.name IN (\"2AP1总开关\",\"AL总开关\",\"一楼市电3进线\") AND T1.year=YEAR(DATE_SUB(CURDATE(),INTERVAL 1 MONTH)) AND T1.month=MONTH(DATE_SUB(CURDATE(),INTERVAL 1 MONTH)) GROUP BY T3.name HAVING SUM(T1.kwh)=(SELECT MAX(total) FROM (SELECT SUM(V1.kwh) total FROM stats_month_meter V1 JOIN tb_terminal V2 ON V1.terminal_id=V2.id JOIN tb_loop V3 ON V2.loop_id=V3.id WHERE V3.name IN (\"2AP1总开关\",\"AL总开关\",\"一楼市电3进线\") AND V1.year=YEAR(DATE_SUB(CURDATE(),INTERVAL 1 MONTH)) AND V1.month=MONTH(DATE_SUB(CURDATE(),INTERVAL 1 MONTH)) GROUP BY V3.name ORDER BY SUM(V1.kwh) DESC LIMIT 1 ) sub)",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n查看本周能耗。\n\n###回答:",
        "output": "SELECT SUM(kwh) FROM stats_day_meter WHERE create_time >= DATE(NOW() - INTERVAL WEEKDAY(NOW()) DAY) AND create_time <= DATE(NOW() + INTERVAL (6 - WEEKDAY(NOW())) DAY)",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n2021年总能耗是多少？\n\n###回答:",
        "output": "SELECT SUM(kwh) FROM stats_month_meter WHERE year=2021",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n查看１号楼上个月的能耗。\n\n###回答:",
        "output": "SELECT SUM(T1.kwh) FROM stats_month_meter AS T1 JOIN tb_floor AS T2 ON T1.floor_id=T2.id JOIN tb_building AS T3 ON T2.building_id=T3.id WHERE T3.number=\"一号楼\" AND T1.year=YEAR(DATE_SUB(CURDATE(),INTERVAL 1 MONTH)) AND T1.month=MONTH(DATE_SUB(CURDATE(),INTERVAL 1 MONTH))",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n显示上个月耗电前三的楼层和耗电量。\n\n###回答:",
        "output": "SELECT T2.floor_number,SUM(T1.kwh) total FROM stats_month_meter T1 JOIN tb_floor T2 ON T1.floor_id=T2.id   WHERE T1.year=YEAR(DATE_SUB(CURDATE(),INTERVAL 1 MONTH)) AND T1.month=MONTH(DATE_SUB(CURDATE(),INTERVAL 1 MONTH)) GROUP BY T2.floor_number ORDER BY total DESC LIMIT 3",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n显示上周空调设备最大能耗是周几和具体能耗量。\n\n###回答:",
        "output": "SELECT DAYOFWEEK(stats_time) AS weekday, SUM(kwh) AS total_consumption FROM stats_day_meter WHERE terminal_type='空调' AND stats_time BETWEEN DATE_SUB(CURDATE(), INTERVAL WEEKDAY(CURDATE()) + 7 DAY) AND DATE_SUB(CURDATE(), INTERVAL WEEKDAY(CURDATE()) + 1 DAY) GROUP BY stats_time ORDER BY SUM(kwh) DESC LIMIT 1",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n一号楼有多少个通信机\n\n###回答:",
        "output": "SELECT COUNT(*)  FROM tb_floor T1 JOIN tb_smart_manager_device T2 ON T1.id=T2.floor_id JOIN tb_building T3 ON T1.building_id=T3.id WHERE T3.number=\"一号楼\" ",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n请问回路‘2AP1总开关’所设定的电流规格是多少？\n\n###回答:",
        "output": "SELECT DISTINCT current_specification FROM tb_loop WHERE name='2AP1总开关'",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n计算回路2AP1总开关本月的每日能耗。\n\n###回答:",
        "output": "SELECT T1.stats_time,SUM(T1.kwh) FROM stats_day_meter AS T1 JOIN tb_terminal AS T2 ON T1.terminal_id=T2.id WHERE T2.name IN  (\"2AP1总开关\")  AND stats_time>=DATE_SUB(CURDATE(), INTERVAL DAYOFMONTH(CURDATE()) - 1 DAY) GROUP BY T1.stats_time",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n显示安装的通讯机数量超过２的楼层名称和通讯机数量。\n\n###回答:",
        "output": "SELECT T2.floor_number,COUNT(*) AS TOTAL FROM tb_smart_manager_device AS T1 JOIN tb_floor AS T2 ON T1.floor_id=T2.id  GROUP BY T2.floor_number HAVING TOTAL>2",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n今年3月14号的最大能耗的设备名和设备ID是什么？\n\n###回答:",
        "output": "SELECT T2.name,T2.identification FROM stats_day_meter T1 JOIN tb_terminal T2 ON T1.terminal_id=T2.id WHERE T1.kwh = (SELECT MAX(kwh) FROM stats_day_meter WHERE stats_time=CONCAT(YEAR(CURDATE()), '-03-14'))  AND stats_time=CONCAT(YEAR(CURDATE()), '-03-14')",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n查看一号楼三条总进线上个星期每日能耗同比增长量。\n\n###回答:",
        "output": "SELECT V1.day,(coalesce( V1.total,0)-coalesce( V2.total,0)) diff FROM (SELECT T1.stats_time day,SUM(T1.kwh) total FROM stats_day_meter AS T1 JOIN tb_terminal AS T2 ON T1.terminal_id=T2.id WHERE T2.name IN  (\"2AP1总开关\",\"AL总开关\", \"一楼市电3进线\")  AND T1.stats_time>=DATE_SUB(CURDATE(), INTERVAL WEEKDAY(CURDATE()) + 7 DAY) AND T1.stats_time<=DATE_SUB(CURDATE(), INTERVAL WEEKDAY(CURDATE()) + 1 DAY)  GROUP BY T1.stats_time) V1 JOIN (SELECT T1.stats_time day,SUM(T1.kwh) total FROM stats_day_meter AS T1 JOIN tb_terminal AS T2 ON T1.terminal_id=T2.id WHERE T2.name IN  (\"2AP1总开关\",\"AL总开关\", \"一楼市电3进线\")  AND T1.stats_time>=DATE_SUB(DATE_SUB(CURDATE(), INTERVAL WEEKDAY(CURDATE()) + 7 DAY),INTERVAL 1 YEAR) AND T1.stats_time<=DATE_SUB(DATE_SUB(CURDATE(), INTERVAL WEEKDAY(CURDATE()) + 1 DAY),INTERVAL 1 YEAR)  GROUP BY T1.stats_time) V2 ON V1.day=DATE_ADD(V2.day,INTERVAL 1 YEAR)",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n查找最近安装的通讯机的所在楼层。\n\n###回答:",
        "output": "SELECT T2.floor_number FROM tb_smart_manager_device AS T1 JOIN tb_floor AS T2 ON T1.floor_id=T2.id  ORDER BY T1.install_time DESC LIMIT 1",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n本周总能耗是多少？\n\n###回答:",
        "output": "SELECT SUM(kwh) FROM stats_day_meter WHERE stats_time >= DATE_FORMAT(NOW() - INTERVAL WEEKDAY(NOW()) DAY, '%Y-%m-%d') AND stats_time <= DATE_FORMAT(NOW() + INTERVAL (6 - WEEKDAY(NOW())) DAY, '%Y-%m-%d')",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n统计今天上午10点总能耗。\n\n###回答:",
        "output": "SELECT SUM(JSON_EXTRACT(`data`, '$[10].kwh')) AS total FROM stats_day_collect WHERE DATE(stats_time) = CURDATE()",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n计算除空调、插座和照明,其他设备在去年下半年的每月总能耗。\n\n###回答:",
        "output": "SELECT month,SUM(kwh) FROM stats_month_meter WHERE year=YEAR(CURDATE())-1 AND month<=12 AND month>=7 AND terminal_type NOT IN (\"空调\",\"插座\",\"照明\") GROUP BY month",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n查找公司面积最大的楼宇。\n\n###回答:",
        "output": "SELECT number FROM tb_building  WHERE area in (SELECT MAX(area) FROM tb_building )",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n显示今年每月能耗的环比增长率。\n\n###回答:",
        "output": "SELECT current_month.year, current_month.month, COALESCE((current_month.total_kwh - previous_month.total_kwh) / previous_month.total_kwh, 0) AS kwh_growth FROM (SELECT year, month, SUM(kwh) AS total_kwh FROM stats_month_meter WHERE year = YEAR(CURDATE()) GROUP BY year, month) AS current_month LEFT JOIN (SELECT year, month, SUM(kwh) AS total_kwh FROM stats_month_meter WHERE year = YEAR(CURDATE()) GROUP BY year, month) AS previous_month ON current_month.year = previous_month.year AND current_month.month = previous_month.month + 1 ORDER BY current_month.year, current_month.month;",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n查找通讯机“智能通讯管理机”所在楼层和安装时间。\n\n###回答:",
        "output": "SELECT T2.floor_number, T1.install_time FROM tb_smart_manager_device AS T1 JOIN tb_floor AS T2 ON T1.floor_id = T2.id WHERE T1.name = '智能通讯管理机'",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n计算“F1”层今天的总耗能。\n\n###回答:",
        "output": "SELECT SUM(T1.kwh)  FROM stats_day_meter T1 JOIN tb_floor T2 ON T1.floor_id=T2.id WHERE T2.floor_number='F1' AND T1.stats_time=CURDATE()",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n今年上半年每月总能耗是多少？\n\n###回答:",
        "output": "SELECT month,SUM(kwh) FROM stats_month_meter WHERE year=YEAR(CURDATE()) AND month<=6 GROUP BY month",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n把所有楼层总面积超过1000的楼宇告诉我\n\n###回答:",
        "output": "SELECT T2.number FROM tb_floor T1 JOIN tb_building T2 ON T1.building_id=T2.id GROUP BY T2.number HAVING SUM(T1.area)>1000",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n上个季度环比总能耗的变化量是多少？\n\n###回答:",
        "output": "SELECT (COALESCE(V1.total, 0) - COALESCE(V2.total, 0)) AS diff FROM (  SELECT SUM(kwh) AS total  FROM stats_month_meter  WHERE year = YEAR(DATE_SUB(CURDATE(), INTERVAL 1 QUARTER))  AND month IN (  MONTH(DATE_SUB(CURDATE(), INTERVAL 3 MONTH)),  MONTH(DATE_SUB(CURDATE(), INTERVAL 2 MONTH)),  MONTH(DATE_SUB(CURDATE(), INTERVAL 1 MONTH))  )  ) V1  CROSS JOIN (  SELECT SUM(kwh) AS total  FROM stats_month_meter  WHERE year = YEAR(DATE_SUB(CURDATE(), INTERVAL 2 QUARTER))  AND month IN (  MONTH(DATE_SUB(CURDATE(), INTERVAL 6 MONTH)),  MONTH(DATE_SUB(CURDATE(), INTERVAL 5 MONTH)),  MONTH(DATE_SUB(CURDATE(), INTERVAL 4 MONTH))  )  ) V2;",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n“2AP1总开关”这个回路位于哪栋建筑物内？\n\n###回答:",
        "output": "SELECT T4.number FROM tb_loop T1 JOIN tb_cabinet T2 ON T1.cabinet_id = T2.id JOIN tb_floor T3 ON T2.floor_id = T3.id JOIN tb_building T4 ON T3.building_id = T4.id WHERE T1.name = '2AP1总开关'",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n23年总能耗是多少？\n\n###回答:",
        "output": "SELECT SUM(kwh) FROM stats_month_meter WHERE year=2023",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n计算除空调、插座和照明,其他设备在这个月的总能耗。\n\n###回答:",
        "output": "SELECT SUM(kwh) FROM stats_month_meter WHERE year=YEAR(CURDATE()) AND month=MONTH(CURDATE()) AND terminal_type NOT IN (\"空调\",\"插座\",\"照明\")",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n获取过去7天内，一号楼F2层中名为“AL总开关”的设备每日能耗统计数据\n\n###回答:",
        "output": "SELECT T1.stats_time,T1.kwh  FROM stats_day_meter T1 JOIN tb_floor T2 ON T1.floor_id=T2.id JOIN tb_building T3 ON T2.building_id=T3.id JOIN tb_terminal T4 ON T1.terminal_id=T4.id WHERE T4.name=\"AL总开关\" AND T3.number=\"一号楼\" AND T2.floor_number=\"F2\" AND T1.stats_time>DATE_SUB(CURDATE(),INTERVAL 7 DAY) GROUP BY T1.stats_time",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n显示一号楼插座设备上个星期每日能耗同比增长量。\n\n###回答:",
        "output": "SELECT V1.day, (coalesce( V1.total,0)-coalesce( V2.total,0)) diff FROM (SELECT T1.stats_time day,SUM(T1.kwh) total FROM stats_day_meter T1 JOIN tb_floor T2 ON T1.floor_id=T2.id JOIN tb_building T3 ON T2.building_id=T3.id WHERE T3.number=\"一号楼\" AND T1.terminal_type=\"插座\" AND T1.stats_time>=DATE_SUB(CURDATE(), INTERVAL WEEKDAY(CURDATE()) + 7 DAY) AND T1.stats_time<=DATE_SUB(CURDATE(), INTERVAL WEEKDAY(CURDATE()) + 1 DAY) GROUP BY T1.stats_time ) V1 JOIN (SELECT T1.stats_time day,SUM(T1.kwh) total FROM stats_day_meter T1 JOIN tb_floor T2 ON T1.floor_id=T2.id JOIN tb_building T3 ON T2.building_id=T3.id WHERE T3.number=\"一号楼\" AND T1.terminal_type=\"插座\" AND T1.stats_time>=DATE_SUB(DATE_SUB(CURDATE(), INTERVAL WEEKDAY(CURDATE()) + 7 DAY),INTERVAL 1 YEAR) AND T1.stats_time<=DATE_SUB(DATE_SUB(CURDATE(), INTERVAL WEEKDAY(CURDATE()) + 1 DAY) ,INTERVAL 1 YEAR) GROUP BY T1.stats_time) V2  ON YEAR(V1.day)=YEAR(V2.day)+1 AND DAY(V1.day)=DAY(V2.day)",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n查看一号楼照明设备2023年每月环比能耗增长量。\n\n###回答:",
        "output": "SELECT V1.month,(coalesce( V1.total,0)-coalesce( V2.total,0)) diff FROM (SELECT year, month,SUM(kwh) total FROM stats_month_meter T1 JOIN tb_floor T2 ON T1.floor_id=T2.id JOIN tb_building T3 ON T2.building_id=T3.id   WHERE T1.terminal_type=\"照明\"  AND T1.year=2023 AND T3.number=\"一号楼\" GROUP BY year,month) V1 JOIN (SELECT year,month,SUM(kwh) total FROM stats_month_meter T1 JOIN tb_floor T2 ON T1.floor_id=T2.id JOIN tb_building T3 ON T2.building_id=T3.id   WHERE T1.terminal_type=\"照明\"   AND T3.number=\"一号楼\" GROUP BY year,month) V2 ON (V1.month=V2.month+1 AND V1.year = V2.year) OR (V1.month=1 AND V2.month=12 AND V1.year=V2.year+1)",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n查看一号楼F3层最近30天的用电趋势\n\n###回答:",
        "output": "SELECT T1.stats_time,SUM(T1.kwh) total FROM stats_day_meter T1 JOIN tb_floor T2 ON T1.floor_id=T2.id JOIN tb_building T3 ON T2.building_id=T3.id WHERE T3.number='一号楼' AND T2.floor_number='F3' AND T1.stats_time>=DATE_SUB(CURDATE(),INTERVAL 30 DAY) AND T1.stats_time<CURDATE() GROUP BY T1.stats_time",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n一楼市电3进线上周的每日能耗是多少？\n\n###回答:",
        "output": "SELECT T1.stats_time, SUM(T1.kwh) FROM stats_day_meter AS T1 JOIN tb_terminal AS T2 ON T1.terminal_id = T2.id JOIN tb_loop AS T3 ON T2.loop_id = T3.id WHERE T3.name = '一楼市电3进线' AND T1.stats_time BETWEEN DATE_SUB(CURDATE(), INTERVAL (WEEKDAY(CURDATE()) + 7) DAY) AND DATE_SUB(CURDATE(), INTERVAL (WEEKDAY(CURDATE()) + 1) DAY) GROUP BY T1.stats_time",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n昨天一层楼空调总耗电多少度\n\n###回答:",
        "output": "SELECT SUM(T1.kwh) FROM stats_day_meter T1 JOIN tb_floor T2 ON T1.floor_id = T2.id WHERE T1.terminal_type = '空调' AND T2.floor_number = 'F1' AND T1.stats_time = DATE_SUB(CURDATE(), INTERVAL 1 DAY)",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n上个月耗电最厉害的设备是在哪一层？\n\n###回答:",
        "output": "SELECT DISTINCT T2.floor_number FROM stats_month_meter T1 JOIN tb_floor T2 ON T1.floor_id=T2.id WHERE T1.year=YEAR(DATE_SUB(CURDATE(),INTERVAL 1 MONTH)) AND T1.month=MONTH(DATE_SUB(CURDATE(),INTERVAL 1 MONTH)) AND T1.kwh=(SELECT MAX(kwh) FROM stats_month_meter WHERE year=YEAR(DATE_SUB(CURDATE(),INTERVAL 1 MONTH)) AND month=MONTH(DATE_SUB(CURDATE(),INTERVAL 1 MONTH)))",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n告诉我本月耗电最低的3台配电柜柜号,分别耗电多少？\n\n###回答:",
        "output": "SELECT T2.number ,SUM(T1.kwh) total FROM stats_month_meter T1 JOIN tb_cabinet T2 ON T1.cabinet_id=T2.id WHERE T1.year=YEAR(CURDATE()) AND T1.month=MONTH(CURDATE()) GROUP BY T2.number ORDER BY SUM(T1.kwh) ASC LIMIT 3",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n查找设备“一层总开”的通信地址。\n\n###回答:",
        "output": "SELECT address FROM tb_terminal WHERE name='一层总开'",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n从2023年2月到2023年12月每月能耗的同比变化率是多少？\n\n###回答:",
        "output": "SELECT cur_year.year, cur_year.month, (cur_year.total - pre_year.total) / pre_year.total AS total_kwh FROM (SELECT year, month, SUM(kwh) as total FROM stats_month_meter WHERE year=2023 AND month BETWEEN 2 AND 12 GROUP BY year, month) AS cur_year LEFT JOIN (SELECT year, month, SUM(kwh) as total FROM stats_month_meter WHERE year=2022 AND month BETWEEN 2 AND 12 GROUP BY year, month) AS pre_year ON cur_year.month = pre_year.month AND cur_year.year = pre_year.year + 1",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n查看最近三个季度的总能耗。\n\n###回答:",
        "output": "SELECT SUM(kwh) AS total FROM stats_month_meter WHERE (year = YEAR(DATE_SUB(CURDATE(), INTERVAL IF(MONTH(CURDATE()) % 3 = 0, 5, MOD(MONTH(CURDATE()), 3) + 2) MONTH)) AND month BETWEEN MONTH(DATE_SUB(CURDATE(), INTERVAL IF(MONTH(CURDATE()) % 3 = 0, 5, MOD(MONTH(CURDATE()), 3) + 2) MONTH)) AND MONTH(DATE_SUB(CURDATE(), INTERVAL IF(MONTH(CURDATE()) % 3 = 0, 3, MOD(MONTH(CURDATE()), 3)) MONTH))) OR (year = YEAR(DATE_SUB(CURDATE(), INTERVAL IF(MONTH(CURDATE()) % 3 = 0, 8, MOD(MONTH(CURDATE()), 3) + 5) MONTH)) AND month BETWEEN MONTH(DATE_SUB(CURDATE(), INTERVAL IF(MONTH(CURDATE()) % 3 = 0, 8, MOD(MONTH(CURDATE()), 3) + 5) MONTH)) AND DATE_SUB(CURDATE(), INTERVAL IF(MONTH(CURDATE()) % 3 = 0, 6, MOD(MONTH(CURDATE()), 3) + 3) MONTH)) OR (year = YEAR(DATE_SUB(CURDATE(), INTERVAL IF(MONTH(CURDATE()) % 3 = 0, 11, MOD(MONTH(CURDATE()), 3) + 8) MONTH)) AND month BETWEEN MONTH(DATE_SUB(CURDATE(), INTERVAL IF(MONTH(CURDATE()) % 3 = 0, 11, MOD(MONTH(CURDATE()), 3) + 8) MONTH)) AND DATE_SUB(CURDATE(), INTERVAL IF(MONTH(CURDATE()) % 3 = 0, 9, MOD(MONTH(CURDATE()), 3) + 5) MONTH))",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n计算最近5个月配电柜“2AP1”的平均能耗。\n\n###回答:",
        "output": "SELECT AVG(T1.kwh) AS average FROM stats_month_meter AS T1 JOIN tb_cabinet AS T2 ON T1.cabinet_id = T2.id WHERE T2.number = '2AP1' AND CONCAT(T1.year, LPAD(T1.month, 2, '0')) > CONCAT(YEAR(DATE_SUB(CURDATE(), INTERVAL 5 MONTH)), LPAD(MONTH(DATE_SUB(CURDATE(), INTERVAL 5 MONTH)), 2, '0')) AND CONCAT(T1.year, LPAD(T1.month, 2, '0')) <= CONCAT(YEAR(CURDATE()), LPAD(MONTH(CURDATE()), 2, '0'))",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n查找回路“2AP1总开关”的电流规格。\n\n###回答:",
        "output": "SELECT DISTINCT current_specification FROM tb_loop WHERE name='2AP1总开关'",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n计算１号楼最高楼层今年每月能耗。\n\n###回答:",
        "output": "SELECT T2.floor_number, T1.month, SUM(T1.kwh) FROM stats_month_meter T1 JOIN tb_floor T2 ON T1.floor_id = T2.id JOIN tb_building T3 ON T2.building_id = T3.id WHERE T2.floor_number = (SELECT MAX(T1.floor_number) FROM tb_floor T1 JOIN tb_building T2 ON T1.building_id = T2.id WHERE T2.number = '一号楼') AND T1.year = YEAR(CURDATE()) AND T1.month >= 1 GROUP BY T2.floor_number, T1.month",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n配电柜“2AP1”最近15天每天的能耗是多少？\n\n###回答:",
        "output": "SELECT T1.stats_time, AVG(T1.kwh) AS average FROM stats_day_meter AS T1 JOIN tb_cabinet AS T2 ON T1.cabinet_id = T2.id WHERE T2.number = '2AP1' AND T1.stats_time >= DATE_SUB(CURDATE(), INTERVAL 15 DAY) AND T1.stats_time < CURDATE() GROUP BY T1.stats_time",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n１号楼上周的每日能耗是多少？\n\n###回答:",
        "output": "SELECT T1.stats_time,SUM(T1.kwh) FROM stats_day_meter AS T1 JOIN tb_floor AS T2 ON T1.floor_id=T2.id JOIN tb_building AS T3 ON T2.building_id=T3.id WHERE T3.number=\"一号楼\" AND  stats_time>=DATE_SUB(CURDATE(), interval weekday(CURDATE()) + 7 day) AND stats_time<=DATE_SUB(CURDATE(), interval weekday(CURDATE()) + 1 day) GROUP BY T1.stats_time",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n１号楼二楼本月每日总能耗是多少？\n\n###回答:",
        "output": "SELECT T1.stats_time,SUM(T1.kwh) FROM stats_day_meter AS T1 JOIN tb_floor AS T2 ON T1.floor_id=T2.id JOIN tb_building AS T3 ON T2.building_id=T3.id WHERE T3.number=\"一号楼\"  AND T2.floor_number IN (\"F2\")  AND T1.stats_time >= DATE_SUB(CURDATE(), INTERVAL DAYOFMONTH(CURDATE()) - 1 DAY) GROUP BY T1.stats_time",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n我想要了解昨天能耗在200及以上的楼层有哪些，能否告知？\n\n###回答:",
        "output": "SELECT T2.floor_number  FROM stats_day_meter AS T1 JOIN tb_floor AS T2 ON T1.floor_id=T2.id WHERE stats_time=DATE_SUB(CURDATE(),INTERVAL 1 DAY) GROUP BY T1.floor_id HAVING SUM(T1.kwh)>=200",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n去年3.15日一号楼三条进线每条进线总能耗的同比变化率是多少？\n\n###回答:",
        "output": "SELECT V1.name, CONCAT(ROUND((V1.total-V2.total)/V2.total*100, 2), '%') AS diff FROM (SELECT T5.name AS name, SUM(T1.kwh) AS total FROM stats_day_meter T1 JOIN tb_floor T2 ON T1.floor_id = T2.id JOIN tb_building T3 ON T2.building_id = T3.id JOIN tb_terminal T4 ON T1.terminal_id = T4.id JOIN tb_loop T5 ON T4.loop_id = T5.id WHERE T3.number = '一号楼' AND T5.name IN ('2AP1总开关', 'AL总开关', '一楼市电3进线') AND T1.day = '2023-03-15' GROUP BY T5.name) V1 JOIN (SELECT T5.name AS name, SUM(T1.kwh) AS total FROM stats_day_meter T1 JOIN tb_floor T2 ON T1.floor_id = T2.id JOIN tb_building T3 ON T2.building_id = T3.id JOIN tb_terminal T4 ON T1.terminal_id = T4.id JOIN tb_loop T5 ON T4.loop_id = T5.id WHERE T3.number = '一号楼' AND T5.name IN ('2AP1总开关', 'AL总开关', '一楼市电3进线') AND T1.day = '2022-03-15' GROUP BY T5.name) V2 ON V1.name = V2.name",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n查询昨天耗电最厉害的楼层。\n\n###回答:",
        "output": "SELECT T2.floor_number FROM stats_day_meter AS T1 JOIN tb_floor AS T2 ON T1.floor_id=T2.id  WHERE stats_time=DATE_SUB(CURDATE(), INTERVAL 1 DAY) GROUP BY T1.floor_id ORDER BY SUM(T1.kwh) DESC LIMIT 1 ",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n显示一号楼三条总进线上个星期每日能耗的环比变化率。\n\n###回答:",
        "output": "SELECT V1.day, CONCAT(ROUND((V1.total - V2.total) / V2.total * 100, 2), '%') AS percentage_change FROM (SELECT T1.stats_time AS day, SUM(T1.kwh) AS total FROM stats_day_meter AS T1 JOIN tb_terminal AS T2 ON T1.terminal_id = T2.id JOIN tb_loop AS T3 ON T2.loop_id = T3.id JOIN tb_cabinet AS T4 ON T3.cabinet_id = T4.id JOIN tb_floor AS T5 ON T4.floor_id = T5.id JOIN tb_building AS T6 ON T5.building_id = T6.id WHERE T6.number = '一号楼' AND T3.name IN ('2AP1总开关', 'AL总开关', '一楼市电3进线') AND T1.stats_time >= DATE_SUB(CURDATE(), INTERVAL WEEKDAY(CURDATE()) + 7 DAY) AND T1.stats_time <= DATE_SUB(CURDATE(), INTERVAL WEEKDAY(CURDATE()) + 1 DAY) GROUP BY T1.stats_time) V1 JOIN (SELECT T1.stats_time AS day, SUM(T1.kwh) AS total FROM stats_day_meter AS T1 JOIN tb_terminal AS T2 ON T1.terminal_id = T2.id JOIN tb_loop AS T3 ON T2.loop_id = T3.id JOIN tb_cabinet AS T4 ON T3.cabinet_id = T4.id JOIN tb_floor AS T5 ON T4.floor_id = T5.id JOIN tb_building AS T6 ON T5.building_id = T6.id WHERE T6.number = '一号楼' AND T3.name IN ('2AP1总开关', 'AL总开关', '一楼市电3进线') AND T1.stats_time >= DATE_SUB(CURDATE(), INTERVAL WEEKDAY(CURDATE()) + 14 DAY) AND T1.stats_time <= DATE_SUB(CURDATE(), INTERVAL WEEKDAY(CURDATE()) + 8 DAY) GROUP BY T1.stats_time) V2 ON V1.day = DATE_ADD(V2.day, INTERVAL 1 WEEK)",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n一号楼宇每个楼层的面积是多少？\n\n###回答:",
        "output": "SELECT T1.floor_number,T1.area FROM tb_floor AS T1 JOIN tb_building AS T2 ON T1.building_id=T2.id WHERE T2.number=\"一号楼\"",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n计算１号楼最大面积的楼层中，本月照明设备的平均能耗。\n\n###回答:",
        "output": "SELECT AVG(T1.kwh) average  FROM stats_month_meter T1 JOIN tb_floor T2 ON T1.floor_id=T2.id JOIN tb_building T3 ON T2.building_id=T3.id  WHERE  T3.number=\"一号楼\" AND T1.terminal_type=\"照明\" AND T1.year=YEAR(CURDATE()) AND T1.month=MONTH(CURDATE())  AND T2.area=(SELECT MAX(V1.area) FROM tb_floor V1 JOIN tb_building V2 ON V1.building_id=V2.id WHERE V2.number=\"一号楼\")",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n请统计各园区内楼宇的数量。\n\n###回答:",
        "output": "SELECT T2.name,COUNT(*) FROM tb_building T1 JOIN tb_park T2 ON T1.park_id=T2.id GROUP BY T2.name",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n列出最高回路等级的设备名\n\n###回答:",
        "output": "SELECT T2.name FROM tb_loop T1 JOIN tb_terminal T2 ON T1.id=T2.loop_id WHERE T1.level=(SELECT MAX(level) FROM tb_loop)",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n回路“2AP1总开关”的等级\n\n###回答:",
        "output": "SELECT level FROM tb_loop WHERE name='2AP1总开关'",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n查看今年配电柜的总能耗\n\n###回答:",
        "output": "SELECT SUM(T1.kwh) total FROM stats_month_meter T1 JOIN tb_cabinet T2 ON T1.cabinet_id=T2.id WHERE T1.year=YEAR(CURDATE())",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n查看2022年上半年每月能耗同比增长率。\n\n###回答:",
        "output": "SELECT V1.month, CONCAT(ROUND((V1.total - V2.total) / V2.total * 100, 2), '%') AS diff FROM (SELECT year, month, SUM(kwh) AS total FROM stats_month_meter WHERE year = 2022 AND month BETWEEN 1 AND 6 GROUP BY year, month) V1 JOIN (SELECT year, month, SUM(kwh) AS total FROM stats_month_meter WHERE year = 2021 AND month BETWEEN 1 AND 6 GROUP BY year, month) V2 ON V1.month = V2.month",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n昨天耗电最厉害的设备是在哪一层？\n\n###回答:",
        "output": "SELECT DISTINCT T2.floor_number FROM stats_day_meter T1 JOIN tb_floor T2 ON T1.floor_id=T2.id WHERE T1.stats_time=DATE_SUB(CURDATE(),INTERVAL 1 DAY) AND T1.kwh=(SELECT MAX(kwh) FROM stats_day_meter WHERE stats_time=DATE_SUB(CURDATE(),INTERVAL 1 DAY))",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n计算配电柜“1AP1”最近100天的总能耗。\n\n###回答:",
        "output": "SELECT SUM(T1.kwh) FROM stats_day_meter AS T1 JOIN tb_cabinet AS T2 ON T1.cabinet_id = T2.id WHERE T2.number = '1AP1' AND T1.stats_time >= DATE_SUB(CURDATE(), INTERVAL 100 DAY) AND T1.stats_time<CURDATE()",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n查看上个月能耗的环比增长率。\n\n###回答:",
        "output": "SELECT CONCAT(ROUND((V1.total-V2.total)/V2.total*100,2),\"%\") diff FROM (SELECT SUM(kwh) total FROM stats_month_meter WHERE year=YEAR(DATE_SUB(CURDATE(),INTERVAL 1 MONTH)) AND month=MONTH(DATE_SUB(CURDATE(),INTERVAL 1 MONTH))) V1 JOIN (SELECT SUM(kwh) total FROM stats_month_meter WHERE year=YEAR(DATE_SUB(CURDATE(),INTERVAL 2 MONTH)) AND month=MONTH(DATE_SUB(CURDATE(),INTERVAL 2 MONTH))) V2",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n查询上周五最小能耗的空调ID。\n\n###回答:",
        "output": "SELECT T2.identification FROM stats_day_meter AS T1 JOIN tb_terminal AS T2 ON T1.terminal_id=T2.id   WHERE T1.stats_time=DATE_ADD(DATE_SUB(CURDATE(), INTERVAL WEEKDAY(CURDATE())+7 DAY),INTERVAL 4 DAY) AND T1.terminal_type=\"空调\" AND T1.kwh=(SELECT MIN(kwh) FROM stats_day_meter WHERE terminal_type=\"空调\" AND stats_time=DATE_ADD(DATE_SUB(CURDATE(), INTERVAL WEEKDAY(CURDATE())+7 DAY),INTERVAL 4 DAY))",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    },
    {
        "db_id": "zhly_nhjk",
        "input": "###输入:\n一号楼四楼每个设备今年耗能峰值是多少？\n\n###回答:",
        "output": "SELECT T4.name, MAX(T1.kwh)  FROM stats_month_meter T1 JOIN tb_floor T2 ON T1.floor_id=T2.id JOIN tb_building T3 ON T2.building_id=T3.id JOIN tb_terminal T4 ON T1.terminal_id=T4.id  WHERE T3.number=\"一号楼\" AND T2.floor_number=\"F4\"  AND T1.year=YEAR(CURDATE()) GROUP BY T4.name",
        "history": [],
        "instruction": "我想让你充当一个示例数据库前面的SQL终端。, 你只需要把sql命令发给我。下面是一个描述任务的指令, 写一个适当的回复来完成请求。\n\"\n##指示:\nzhly_nhjk 包含以下表:\nTable = [stats_meter_data_collect, tb_smart_manager_device, tb_building, tb_cabinet, tb_terminal, tb_room, tb_park, tb_month_eus, tb_meter_data, tb_loop, tb_floor, stats_day_meter, stats_month_meter, stats_month_collect, stats_day_collect]\n每个表中对应的列名如下:\nTable stats_meter_data_collect 具有以下列 columns = [id, terminal_id, start_value, end_value, loop_level, create_time, update_time, terminal_type, cabinet_id, floor_id ]\nTable tb_smart_manager_device 具有以下列 columns = [id, name, identification, model, number, floor_id, install_time, create_user, create_time, update_user, update_time, del_flag]\nTable tb_building 具有以下列 columns = [id, number, floor_count, park_id, area, user_id, create_user, create_time, update_user, update_time, del_flag]\nTable tb_cabinet 具有以下列 columns = [id, number, floor_id, create_user, create_time, update_user, update_time, del_flag] \nTable tb_terminal 具有以下列 columns = [id, identification, name, model, smart_manager_device_id, room_id, loop_id, address, status, report_time_update, create_user, create_time, update_user, update_time, del_flag, type]\nTable tb_room 具有以下列 columns = [id, floor_id, dal_flag, room_name, create_time, update_time, update_user, create_user] \nTable tb_park 具有以下列 columns = [id, name, company, city, area, longitude, latitude, address, create_user, create_time, update_user, update_time, del_flag]\nTable tb_month_eus 具有以下列 columns = [id, building_id, total_electric_energy, total_power, insert_time, year, month]\nTable tb_meter_data 具有以下列 columns = [id, gateid, cabinet_id, loop_id, terminal_id, address, status, report_data, report_time, create_time]\nTable tb_loop 具有以下列 columns = [id, name, current_specification, level, cabinet_id, load, create_user, create_time, update_user, update_time, del_flag]\nTable tb_floor 具有以下列 columns = [id, floor_number, building_id, create_user, area, sort, create_time, update_user, update_time, del_flag]\nTable stats_day_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, loop_level, day, terminal_type, create_time, cabinet_id, stats_time, update_time]\nTable stats_month_meter 具有以下列 columns = [id, terminal_id, kwh, floor_id, month, year, loop_level, terminal_type, cabinet_id, create_time, update_time]\nTable stats_month_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, cabinet_id, loop_level, floor_id, month, year, create_time, stats_time, update_time]\nTable stats_day_collect 具有以下列 columns = [id, terminal_id, data, terminal_type, create_time, cabinet_id, loop_level, stats_time, month, day, floor_id, update_time]\n"
    }
]